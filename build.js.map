{"version":3,"sources":["node_modules/browser-pack/_prelude.js","node_modules/macgyvr/src/baseapplication.js","node_modules/macgyvr/src/basegroup.js","node_modules/macgyvr/src/plugins/input/daydream.js","node_modules/macgyvr/src/plugins/input/gaze.js","node_modules/macgyvr/src/plugins/tween.js","node_modules/macgyvr/src/utils/color.js","src/main.js","src/objects/cube.js","src/objects/dome.js","src/objects/testscene.js"],"names":[],"mappings":"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","file":"build.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","export default class BaseApplication {\n    constructor(scene) {\n        scene.registerApplication(this);\n    }\n\n    onCreate(scene, scenecollection) {}\n    onPreRender(time) {}\n    onRender(time) {}\n}\n","export default class BaseGroup {\n    constructor(params) {\n\n        /**\n         * parent group of child objects we will create\n         * @type {THREE.Object3D}\n         * @private\n         */\n        this._group = new THREE.Object3D();\n\n        /** additional render hooks we can add */\n        this._renderHooks = [];\n\n        this._config = params;\n        this.onInitialize(params);\n    }\n\n    /**\n     * get name of group\n     */\n    get name() {\n        return this.constructor.name;\n    }\n\n    /**\n     * overridable methods\n     * leave empty to be a simple abstraction we don't have to call super on\n     * @param scene\n     */\n    onCreate(scene) {};\n    onRender(scene, time) {};\n    onInitialize(params) {};\n    onAssetsLoaded(geometry, material) {};\n    onJSONSceneLoadProgress(progress) {};\n    onJSONSceneLoadError(err) {};\n    onJSONSceneLoaded(scene) { this.add(scene) };\n\n    /**\n     * on create scene (or earliest possible opportunity)\n     * @param scene\n     */\n    create(scene) {\n        this._group.name = this.name;\n        this._sceneCollection = scene;\n        scene.scene.add(this._group);\n\n        if (this._config && this._config.assets) {\n            // todo: determine when to use JSON Loader, OBJ loader, or whatever\n            var loader = new THREE.JSONLoader();\n            loader.load(this._config.assets, (geometry, materials) => {\n                this.onAssetsLoaded(geometry, materials);\n            });\n        }\n\n        if (this._config && this._config.scene) {\n            var loader = new THREE.ObjectLoader();\n            loader.load(this._config.scene, (loaded) => {\n                this.onJSONSceneLoaded(loaded);\n            }, (progress) => {\n                this.onJSONSceneLoadProgress(progress);\n            }, (err) => {\n                this.onJSONSceneLoadError(err);\n            });\n        }\n\n        this.onCreate();\n    }\n\n    /**\n     * add object to scene\n     * @param object\n     * @param name\n     */\n    add(object, name) {\n        if (!name) {\n            name = this.name + '-child';\n        }\n        object.name = name;\n        this._group.add(object);\n    }\n\n    addRenderHook(method) {\n        this._renderHooks.push(method);\n    }\n\n    /**\n     * get parent group object\n     * @returns {THREE.Object3D}\n     */\n    get group() {\n        return this._group;\n    }\n\n    /**\n     * get scene\n     * @returns {THREE.Object3D}\n     */\n    get sceneCollection() {\n        return this._sceneCollection;\n    }\n\n    /**\n     * get children of this group\n     * @returns {Array}\n     */\n    get children() {\n        return this._group.children;\n    }\n\n    /**\n     * on prerender scene\n     * @param scene\n     */\n    preRender() {}\n\n    /**\n     * on render scene\n     * @param time\n     */\n    render(time) {\n        for (var c = 0; c < this._renderHooks.length; c++) {\n            this._renderHooks[c].apply(this, [time]);\n        }\n        this.onRender(time);\n    }\n}\n","export default class Daydream {\n    constructor() {\n        this.connected = false;\n        this._callbacks = [];\n        this._controller = new DaydreamController();\n        this._controller.onStateChange((state) => this.onControllerUpdate(state));\n        this._sensorfusion = new MadgwickAHRS();\n        this._sensorfusion.setQuaternion( [ 0.7071067811865475, 0, 0, 0.7071067811865475 ] ); // Hack-ish: Rotate internal quaternion\n        this._buttons = {\n            app: false,\n            home: false,\n            click: false,\n            volumePlus: false,\n            volumeMinus: false,\n            xTouch: 0,\n            yTouch: 0\n        };\n    }\n\n    /**\n     * connect and start listening\n     */\n    start() {\n        this._controller.connect();\n        this.connected = true;\n    }\n\n    /**\n     * on controller update\n     * @param state\n     */\n    onControllerUpdate(state) {\n        this._sensorfusion.update(\n            state.xGyro, state.yGyro, state.zGyro,\n            state.xAcc, state.yAcc, state.zAcc,\n            state.xOri, state.yOri, state.zOri\n        );\n\n        var changed = [];\n        if (state.isClickDown !== this._buttons.click) {\n            this._buttons.click = state.isClickDown;\n            changed.push( { 'click': state.isClickDown });\n        }\n\n        if (state.isAppDown !== this._buttons.app) {\n            this._buttons.app = state.isAppDown;\n            changed.push( { 'app': state.isAppDown });\n        }\n\n        if (state.isHomeDown !== this._buttons.home) {\n            this._buttons.home = state.isHomeDown;\n            changed.push( { 'home': state.isHomeDown });\n        }\n\n        if (state.isVolMinusDown !== this._buttons.volumeMinus) {\n            this._buttons.volumeMinus = state.isVolMinusDown;\n            changed.push( { 'volumeMinus': state.isVolMinusDown });\n        }\n\n        if (state.isVolPlusDown !== this._buttons.volumePlus) {\n            this._buttons.volumePlus = state.isVolPlusDown;\n            changed.push( { 'volumePlus': state.isVolPlusDown });\n        }\n\n        if (state.xTouch !== this._buttons.xTouch && state.yTouch !== this._buttons.yTouch) {\n            changed.push( { 'touch': { x: state.xTouch, y: state.yTouch } });\n        }\n\n        if (changed.length > 0) {\n            for (var c = 0; c < this._callbacks.length; c++) {\n                this._callbacks[c].apply(this, [changed, state]);\n            }\n        }\n    }\n\n    /**\n     * get orientation of device\n     */\n    get orientation() {\n        var q = new THREE.Quaternion();\n        var sf = this._sensorfusion.getQuaternion();\n        sf.y -= Math.PI/2;\n        q = q.fromArray(sf);\n        return q;\n    }\n\n    /**\n     * add listener\n     * @param callback\n     */\n    addListener(callback) {\n        this._callbacks.push(callback);\n    }\n\n    /**\n     * detect against possible objects\n     * @param possibleObjects\n     */\n    pointingAt(possibleObjects) {\n        var raycaster = new THREE.Raycaster();\n        raycaster.setFromCamera( new THREE.Vector2(0, 0), this.sceneCollection.camera );\n        var collisions = raycaster.intersectObjects( possibleObjects );\n        return collisions;\n    }\n}\n","export default class GazeInput {\n    constructor(camera) {\n        this._camera = camera;\n        this.connected = false;\n        this._callbacks = [];\n        document.body.addEventListener('mousedown', (e) => this.onClick(e) );\n    }\n\n    /**\n     * connect and start listening\n     */\n    start() {\n        this.connected = true;\n    }\n\n    /**\n     * add listener\n     * @param callback\n     */\n    addListener(callback) {\n        this._callbacks.push(callback);\n    }\n\n    /**\n     * on body click\n     */\n    onClick(event) {\n        for (var c = 0; c < this._callbacks.length; c++) {\n            this._callbacks[c].apply(this);\n        }\n    }\n\n    /**\n     * get orientation of device\n     */\n    get orientation() {\n        return this._camera.quaternion;\n    }\n\n    /**\n     * detect against possible objects\n     * @param possibleObjects\n     */\n    pointingAt(possibleObjects) {\n        var raycaster = new THREE.Raycaster();\n        raycaster.setFromCamera( new THREE.Vector2(0, 0), this._camera );\n        var collisions = raycaster.intersectObjects( possibleObjects );\n        return collisions;\n    }\n}\n","import Color from '../utils/color.js';\n\nexport default class Tween {\n    constructor(group) {\n        if (!createjs) {\n            throw new Error('CreateJS Tween must be included in your build or linked via script to animate');\n            return;\n        }\n        group.addRenderHook( (scene, time) => this.onRender(scene, time));\n        this.animations = [];\n    }\n\n    /**\n     * animate THREE.js mesh position property\n     * @param {int} from\n     * @param {int} to\n     * @param options\n     */\n    animateColor(from, to, options) {\n        if (typeof from !== 'object') {\n            if (typeof from !== 'number' && from.charAt(0) === '#') {\n                from = Number('0x' + from.substr(1, from.length));\n                from = Color.decToRGB(from);\n            } else {\n                from = Color.decToRGB(from);\n            }\n        }\n\n        if (typeof to !== 'object') {\n            if (typeof to !== 'number' && to.charAt(0) === '#') {\n                to = Number('0x' + to.substr(1, to.length));\n                to = Color.decToRGB(to);\n            } else {\n                to = Color.decToRGB(to);\n            }\n        }\n\n        from = this.populateStartAnimationObject(from, options);\n        from.animation.step.push( (step) => this.animateColorStep(step));\n        this.createTween(to, from, options);\n        this.animations.push(from);\n    }\n\n    /**\n     * animate THREE.js mesh position property\n     * @param {Three.js Vector3} from\n     * @param {Three.js Vector3} to\n     * @param options\n     */\n    animatePosition(from, to, options) {\n        from = { x: from.x, y: from.y, z: from.z };\n        to = { x: to.x, y: to.y, z: to.z };\n        from = this.populateStartAnimationObject(from, options);\n        from.animation.step.push( (step) => this.animatePositionStep(step));\n        this.createTween(to, from, options);\n        this.animations.push(from);\n    }\n\n    /**\n     * create and start animation\n     * @param from\n     * @param to\n     * @param options\n     */\n    animate(from, to, options) {\n        if (!createjs) {\n            throw new Error('CreateJS Tween must be included in your build or linked via script to animate');\n            return;\n        }\n\n        if (!options.step) {\n            throw new Error('Please define a \"step\" property on options to specify a callback for each animation update');\n        }\n\n        from = this.populateStartAnimationObject(from, to);\n        this.createTween(to, from, options);\n        this.animations.push(from);\n    }\n\n    /**\n     * populate animation start object\n     * @param from\n     * @param options\n     * @returns {*}\n     */\n    populateStartAnimationObject(from, options) {\n        from.animation = {};\n        from.animation.animating = true;\n        from.animation.step = [];\n        if (options.step) {\n            from.animation.step.push(options.step);\n        }\n        from.animation.target = options.target;\n        from.animation.loop = options.loop;\n        from.animation.complete = options.complete;\n        return from;\n    }\n\n    /**\n     * create tween\n     * @param to\n     * @param from\n     * @param options\n     * @returns {Tween}\n     */\n    createTween(to, from, options) {\n        createjs.Tween.get(from, options)\n            .to(to, options.duration)\n            .call( function() {\n                if (!this._loop) {\n                    this.animation.animating = false;\n                }\n                if (this.animation.complete) {\n                    this.animation.complete.apply(this, [this]);\n                }\n            });\n    }\n\n    /**\n     * animate step for Three.JS position\n     * @param step\n     */\n    animatePositionStep(step) {\n        step.animation.target.position.set(step.x, step.y, step.z);\n    }\n\n    /**\n     * animate step for Three.JS material color\n     * @param step\n     */\n    animateColorStep(step) {\n        step.animation.target.material.color.setRGB(step.r/255, step.g/255, step.b/255);\n    }\n\n    /**\n     * animate render hook\n     * @param time\n     * @param scene\n     */\n    onRender(scene, time) {\n        var running = [];\n        for (var c = 0; c < this.animations.length; c++) {\n            if (this.animations[c].animation.animating) {\n                running.push(this.animations[c]);\n                for (var d = 0; d < this.animations[c].animation.step.length; d++) {\n                    this.animations[c].animation.step[d].apply(this, [this.animations[c]]);\n                }\n            }\n        }\n        this.animations = running;\n    }\n}\n","export default {\n    /**\n     * turn decimal color to RGB\n     * @param dec\n     * @returns {{r: number, g: number, b: number}}\n     */\n    decToRGB(dec) {\n        var r = (dec >> 16) & 0xff;\n        var g = (dec >> 8)  & 0xff;\n        var b = dec & 0xff;\n        return { r: r, g: g, b: b };\n    },\n\n    RGBToDec(rgb) {\n        return rgb.r << 16 + rgb.g << 16 + rgb.b;\n    }\n}\n","import BaseApplication from '../node_modules/macgyvr/src/baseapplication.js';\nimport Cube from './objects/cube.js';\nimport Dome from './objects/dome.js';\nimport TestScene from './objects/testscene.js';\nimport DaydreamInput from '../node_modules/macgyvr/src/plugins/input/daydream.js';\nimport GazeInput from '../node_modules/macgyvr/src/plugins/input/gaze.js';\n\nexport default class Main extends BaseApplication {\n    onCreate(scene, scenecollection) {\n        this._sceneCollection = scenecollection;\n\n        /**\n         * Daydream controller\n         */\n        /*this._sceneCollection.input = new DaydreamInput();\n        document.querySelector('.connect-button').addEventListener('click', e => {\n            e.target.remove();\n            this._sceneCollection.input.start();\n        });*/\n\n        /**\n         * Gaze Input\n         */\n        //this._sceneCollection.input = new GazeInput(scenecollection.camera);\n        //this._sceneCollection.input.start();\n\n        scene.addObjects([\n            new Dome(),\n            new Cube(),\n            new TestScene({ scene: './src/assets/tempscene.json' })\n        ]);\n    }\n\n    onRender(time) {}\n}\n","import BaseGroup from '../../node_modules/macgyvr/src/basegroup.js';\nimport Tween from '../../node_modules/macgyvr/src/plugins/tween.js';\n\nexport default class Cube extends BaseGroup {\n    /**\n     * on create scene (or earliest possible opportunity)\n     * @param scene\n     */\n    onCreate() {\n        this._material = this.createMaterial();\n        this._mesh = new THREE.Mesh(this.createGeometry(), this._material);\n        this.add(this._mesh, 'cube');\n        this.group.position.z = -20;\n        this.tweener = new Tween(this);\n        //this.input = new GazeInput(this.sceneCollection, [this._mesh]);\n        //this.input.addListener( (objects) => this.onGazeInput(objects));\n        //this.sceneCollection.input.addListener( (changed, state) => this.onInput(changed, state));\n    }\n\n    /**\n     * on object click event\n     * @param collisions\n     */\n    onInput() {\n        var pointingAt = this.sceneCollection.input.pointingAt([this._mesh]);\n        if (pointingAt.length > 0 && pointingAt[0].object === this._mesh) {\n            var props = {\n                target: this._mesh,\n                duration: 3000\n            };\n            this.tweener.animateColor( 0xff0000, 0x00ff00, props );\n            this.tweener.animatePosition( new THREE.Vector3(0,0,0), new THREE.Vector3(10,6,3), props );\n        }\n    }\n\n    /**\n     * on day dream input\n     * @param changed\n     * @param state\n     */\n    onDayDreamInput(changed, state) {}\n\n    /**\n     * on render\n     * @param time\n     */\n    onRender(time) {\n        this.group.rotation.y += .01;\n    }\n\n    /**\n     * create globe geometry\n     * @returns {THREE.IcosahedronGeometry}\n     */\n    createGeometry() {\n        return new THREE.CubeGeometry(5, 5, 5, 10, 10);\n    }\n\n    /**\n     * create globe material\n     */\n    createMaterial() {\n        return new THREE.MeshPhongMaterial({\n            color      :  0xff0000,\n            shininess  :  10,\n            shading    :  THREE.FlatShading,\n            transparent: true,\n            opacity    : 1\n        });\n    }\n}\n","import BaseGroup from '../../node_modules/macgyvr/src/basegroup.js';\n\nexport default class Dome extends BaseGroup {\n    /**\n     * on create scene (or earliest possible opportunity)\n     */\n    onCreate() {\n        this._material = this.createMaterial();\n        this._coloredFace = 0;\n        this._mesh = new THREE.Mesh(this.createGeometry(), this._material);\n\n        // hack because for some reason, the set color is different when setting each face than the original material\n        for (var c = 0; c < this._mesh.geometry.faces.length; c++) {\n            this._mesh.geometry.faces[c].color.set(0xc1c489);\n        }\n        this.add(this._mesh, 'dome');\n    }\n\n    /**\n     * on render\n     * @param time\n     */\n    onRender(time) {\n        /*if (this.sceneCollection.input.connected) {\n            var direction = new THREE.Vector3( 0, 0, -1).applyQuaternion( this.sceneCollection.input.orientation );\n            var raycaster = new THREE.Raycaster();\n            raycaster.set( this.sceneCollection.camera.position, direction );\n            var collisions = raycaster.intersectObjects( [this._mesh] );\n            if (collisions.length > 0) {\n                this._mesh.geometry.faces[this._coloredFace].color.set(0xc1c489);\n                this._coloredFace = collisions[0].faceIndex;\n                this._mesh.geometry.faces[this._coloredFace].color.set(0xff9145);\n                this._mesh.geometry.colorsNeedUpdate = true;\n            }\n        }*/\n    }\n\n    onInput() {\n\n    }\n\n    /**\n     * create globe geometry\n     * @returns {THREE.IcosahedronGeometry}\n     */\n    createGeometry() {\n        return new THREE.IcosahedronGeometry( 800, 2 );\n    }\n\n    /**\n     * create globe material\n     */\n    createMaterial() {\n        return new THREE.MeshPhongMaterial({\n            color      :  0xc1c489,\n            vertexColors: THREE.FaceColors,\n            side       :  THREE.BackSide,\n            shininess  :  10,\n            shading    :  THREE.FlatShading\n        });\n    }\n}\n","import BaseGroup from '../../node_modules/macgyvr/src/basegroup.js';\n\nexport default class TestScene extends BaseGroup {\n    /**\n     * on create scene (or earliest possible opportunity)\n     */\n    onCreate() {\n    }\n\n    onJSONSceneLoaded(scene) {\n        super.onJSONSceneLoaded(scene);\n        this._cube = scene.getObjectByName('Box 1');\n        this._sphere = scene.getObjectByName('Sphere 2');\n    };\n\n    /**\n     * on render\n     * @param time\n     */\n    onRender(time) {\n    }\n}\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvbWFjZ3l2ci9zcmMvYmFzZWFwcGxpY2F0aW9uLmpzIiwibm9kZV9tb2R1bGVzL21hY2d5dnIvc3JjL2Jhc2Vncm91cC5qcyIsIm5vZGVfbW9kdWxlcy9tYWNneXZyL3NyYy9wbHVnaW5zL2lucHV0L2RheWRyZWFtLmpzIiwibm9kZV9tb2R1bGVzL21hY2d5dnIvc3JjL3BsdWdpbnMvaW5wdXQvZ2F6ZS5qcyIsIm5vZGVfbW9kdWxlcy9tYWNneXZyL3NyYy9wbHVnaW5zL3R3ZWVuLmpzIiwibm9kZV9tb2R1bGVzL21hY2d5dnIvc3JjL3V0aWxzL2NvbG9yLmpzIiwic3JjL21haW4uanMiLCJzcmMvb2JqZWN0cy9jdWJlLmpzIiwic3JjL29iamVjdHMvZG9tZS5qcyIsInNyYy9vYmplY3RzL3Rlc3RzY2VuZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7SUNBcUIsZTtBQUNqQiw2QkFBWSxLQUFaLEVBQW1CO0FBQUE7O0FBQ2YsY0FBTSxtQkFBTixDQUEwQixJQUExQjtBQUNIOzs7O2lDQUVRLEssRUFBTyxlLEVBQWlCLENBQUU7OztvQ0FDdkIsSSxFQUFNLENBQUU7OztpQ0FDWCxJLEVBQU0sQ0FBRTs7Ozs7O2tCQVBBLGU7Ozs7Ozs7Ozs7Ozs7SUNBQSxTO0FBQ2pCLHVCQUFZLE1BQVosRUFBb0I7QUFBQTs7QUFFaEI7Ozs7O0FBS0EsYUFBSyxNQUFMLEdBQWMsSUFBSSxNQUFNLFFBQVYsRUFBZDs7QUFFQTtBQUNBLGFBQUssWUFBTCxHQUFvQixFQUFwQjs7QUFFQSxhQUFLLE9BQUwsR0FBZSxNQUFmO0FBQ0EsYUFBSyxZQUFMLENBQWtCLE1BQWxCO0FBQ0g7O0FBRUQ7Ozs7Ozs7OztBQU9BOzs7OztpQ0FLUyxLLEVBQU8sQ0FBRTs7O2lDQUNULEssRUFBTyxJLEVBQU0sQ0FBRTs7O3FDQUNYLE0sRUFBUSxDQUFFOzs7dUNBQ1Is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bUJBQU8sSUFBSSxNQUFKLEFBQVUsb0JBQVYsQUFBK0IsS0FBdEMsQUFBTyxBQUFvQyxBQUM5QztBQUVEOzs7Ozs7Ozt5Q0FHaUIsQUFDYjt1QkFBVyxNQUFKLEFBQVU7dUJBQWtCLEFBQ2pCLEFBQ2Q7OEJBQWMsTUFGaUIsQUFFWCxBQUNwQjtzQkFBYyxNQUhpQixBQUdYLEFBQ3BCOzJCQUorQixBQUlqQixBQUNkO3lCQUFjLE1BTGxCLEFBQU8sQUFBNEIsQUFLWCxBQUUzQjtBQVBzQyxBQUMvQixhQURHOzs7Ozs7O2tCLEFBbkRNOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDRnJCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJLEFBRXFCOzs7Ozs7Ozs7O1NBQ2pCOzs7OzsrQkFHVyxBQUNWOzs7c0MsQUFFaUIsT0FBTyxBQUNyQjs4SEFBQSxBQUF3QixBQUN4QjtXQUFBLEFBQUssUUFBUSxNQUFBLEFBQU0sZ0JBQW5CLEFBQWEsQUFBc0IsQUFDbkM7V0FBQSxBQUFLLFVBQVUsTUFBQSxBQUFNLGdCQUFyQixBQUFlLEFBQXNCLEFBQ3hDOzs7U0FFRDs7Ozs7OzZCLEFBSVMsTUFBTSxBQUNkOzs7Ozs7a0IsQUFsQmdCIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhc2VBcHBsaWNhdGlvbiB7XG4gICAgY29uc3RydWN0b3Ioc2NlbmUpIHtcbiAgICAgICAgc2NlbmUucmVnaXN0ZXJBcHBsaWNhdGlvbih0aGlzKTtcbiAgICB9XG5cbiAgICBvbkNyZWF0ZShzY2VuZSwgc2NlbmVjb2xsZWN0aW9uKSB7fVxuICAgIG9uUHJlUmVuZGVyKHRpbWUpIHt9XG4gICAgb25SZW5kZXIodGltZSkge31cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhc2VHcm91cCB7XG4gICAgY29uc3RydWN0b3IocGFyYW1zKSB7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHBhcmVudCBncm91cCBvZiBjaGlsZCBvYmplY3RzIHdlIHdpbGwgY3JlYXRlXG4gICAgICAgICAqIEB0eXBlIHtUSFJFRS5PYmplY3QzRH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2dyb3VwID0gbmV3IFRIUkVFLk9iamVjdDNEKCk7XG5cbiAgICAgICAgLyoqIGFkZGl0aW9uYWwgcmVuZGVyIGhvb2tzIHdlIGNhbiBhZGQgKi9cbiAgICAgICAgdGhpcy5fcmVuZGVySG9va3MgPSBbXTtcblxuICAgICAgICB0aGlzLl9jb25maWcgPSBwYXJhbXM7XG4gICAgICAgIHRoaXMub25Jbml0aWFsaXplKHBhcmFtcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogZ2V0IG5hbWUgb2YgZ3JvdXBcbiAgICAgKi9cbiAgICBnZXQgbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3IubmFtZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBvdmVycmlkYWJsZSBtZXRob2RzXG4gICAgICogbGVhdmUgZW1wdHkgdG8gYmUgYSBzaW1wbGUgYWJzdHJhY3Rpb24gd2UgZG9uJ3QgaGF2ZSB0byBjYWxsIHN1cGVyIG9uXG4gICAgICogQHBhcmFtIHNjZW5lXG4gICAgICovXG4gICAgb25DcmVhdGUoc2NlbmUpIHt9O1xuICAgIG9uUmVuZGVyKHNjZW5lLCB0aW1lKSB7fTtcbiAgICBvbkluaXRpYWxpemUocGFyYW1zKSB7fTtcbiAgICBvbkFzc2V0c0xvYWRlZChnZW9tZXRyeSwgbWF0ZXJpYWwpIHt9O1xuICAgIG9uSlNPTlNjZW5lTG9hZFByb2dyZXNzKHByb2dyZXNzKSB7fTtcbiAgICBvbkpTT05TY2VuZUxvYWRFcnJvcihlcnIpIHt9O1xuICAgIG9uSlNPTlNjZW5lTG9hZGVkKHNjZW5lKSB7IHRoaXMuYWRkKHNjZW5lKSB9O1xuXG4gICAgLyoqXG4gICAgICogb24gY3JlYXRlIHNjZW5lIChvciBlYXJsaWVzdCBwb3NzaWJsZSBvcHBvcnR1bml0eSlcbiAgICAgKiBAcGFyYW0gc2NlbmVcbiAgICAgKi9cbiAgICBjcmVhdGUoc2NlbmUpIHtcbiAgICAgICAgdGhpcy5fZ3JvdXAubmFtZSA9IHRoaXMubmFtZTtcbiAgICAgICAgdGhpcy5fc2NlbmVDb2xsZWN0aW9uID0gc2NlbmU7XG4gICAgICAgIHNjZW5lLnNjZW5lLmFkZCh0aGlzLl9ncm91cCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2NvbmZpZyAmJiB0aGlzLl9jb25maWcuYXNzZXRzKSB7XG4gICAgICAgICAgICAvLyB0b2RvOiBkZXRlcm1pbmUgd2hlbiB0byB1c2UgSlNPTiBMb2FkZXIsIE9CSiBsb2FkZXIsIG9yIHdoYXRldmVyXG4gICAgICAgICAgICB2YXIgbG9hZGVyID0gbmV3IFRIUkVFLkpTT05Mb2FkZXIoKTtcbiAgICAgICAgICAgIGxvYWRlci5sb2FkKHRoaXMuX2NvbmZpZy5hc3NldHMsIChnZW9tZXRyeSwgbWF0ZXJpYWxzKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkFzc2V0c0xvYWRlZChnZW9tZXRyeSwgbWF0ZXJpYWxzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2NvbmZpZyAmJiB0aGlzLl9jb25maWcuc2NlbmUpIHtcbiAgICAgICAgICAgIHZhciBsb2FkZXIgPSBuZXcgVEhSRUUuT2JqZWN0TG9hZGVyKCk7XG4gICAgICAgICAgICBsb2FkZXIubG9hZCh0aGlzLl9jb25maWcuc2NlbmUsIChsb2FkZWQpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uSlNPTlNjZW5lTG9hZGVkKGxvYWRlZCk7XG4gICAgICAgICAgICB9LCAocHJvZ3Jlc3MpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uSlNPTlNjZW5lTG9hZFByb2dyZXNzKHByb2dyZXNzKTtcbiAgICAgICAgICAgIH0sIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uSlNPTlNjZW5lTG9hZEVycm9yKGVycik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMub25DcmVhdGUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBhZGQgb2JqZWN0IHRvIHNjZW5lXG4gICAgICogQHBhcmFtIG9iamVjdFxuICAgICAqIEBwYXJhbSBuYW1lXG4gICAgICovXG4gICAgYWRkKG9iamVjdCwgbmFtZSkge1xuICAgICAgICBpZiAoIW5hbWUpIHtcbiAgICAgICAgICAgIG5hbWUgPSB0aGlzLm5hbWUgKyAnLWNoaWxkJztcbiAgICAgICAgfVxuICAgICAgICBvYmplY3QubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuX2dyb3VwLmFkZChvYmplY3QpO1xuICAgIH1cblxuICAgIGFkZFJlbmRlckhvb2sobWV0aG9kKSB7XG4gICAgICAgIHRoaXMuX3JlbmRlckhvb2tzLnB1c2gobWV0aG9kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBnZXQgcGFyZW50IGdyb3VwIG9iamVjdFxuICAgICAqIEByZXR1cm5zIHtUSFJFRS5PYmplY3QzRH1cbiAgICAgKi9cbiAgICBnZXQgZ3JvdXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ncm91cDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBnZXQgc2NlbmVcbiAgICAgKiBAcmV0dXJucyB7VEhSRUUuT2JqZWN0M0R9XG4gICAgICovXG4gICAgZ2V0IHNjZW5lQ29sbGVjdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NjZW5lQ29sbGVjdGlvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBnZXQgY2hpbGRyZW4gb2YgdGhpcyBncm91cFxuICAgICAqIEByZXR1cm5zIHtBcnJheX1cbiAgICAgKi9cbiAgICBnZXQgY2hpbGRyZW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ncm91cC5jaGlsZHJlbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBvbiBwcmVyZW5kZXIgc2NlbmVcbiAgICAgKiBAcGFyYW0gc2NlbmVcbiAgICAgKi9cbiAgICBwcmVSZW5kZXIoKSB7fVxuXG4gICAgLyoqXG4gICAgICogb24gcmVuZGVyIHNjZW5lXG4gICAgICogQHBhcmFtIHRpbWVcbiAgICAgKi9cbiAgICByZW5kZXIodGltZSkge1xuICAgICAgICBmb3IgKHZhciBjID0gMDsgYyA8IHRoaXMuX3JlbmRlckhvb2tzLmxlbmd0aDsgYysrKSB7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJIb29rc1tjXS5hcHBseSh0aGlzLCBbdGltZV0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub25SZW5kZXIodGltZSk7XG4gICAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGF5ZHJlYW0ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9jYWxsYmFja3MgPSBbXTtcbiAgICAgICAgdGhpcy5fY29udHJvbGxlciA9IG5ldyBEYXlkcmVhbUNvbnRyb2xsZXIoKTtcbiAgICAgICAgdGhpcy5fY29udHJvbGxlci5vblN0YXRlQ2hhbmdlKChzdGF0ZSkgPT4gdGhpcy5vbkNvbnRyb2xsZXJVcGRhdGUoc3RhdGUpKTtcbiAgICAgICAgdGhpcy5fc2Vuc29yZnVzaW9uID0gbmV3IE1hZGd3aWNrQUhSUygpO1xuICAgICAgICB0aGlzLl9zZW5zb3JmdXNpb24uc2V0UXVhdGVybmlvbiggWyAwLjcwNzEwNjc4MTE4NjU0NzUsIDAsIDAsIDAuNzA3MTA2NzgxMTg2NTQ3NSBdICk7IC8vIEhhY2staXNoOiBSb3RhdGUgaW50ZXJuYWwgcXVhdGVybmlvblxuICAgICAgICB0aGlzLl9idXR0b25zID0ge1xuICAgICAgICAgICAgYXBwOiBmYWxzZSxcbiAgICAgICAgICAgIGhvbWU6IGZhbHNlLFxuICAgICAgICAgICAgY2xpY2s6IGZhbHNlLFxuICAgICAgICAgICAgdm9sdW1lUGx1czogZmFsc2UsXG4gICAgICAgICAgICB2b2x1bWVNaW51czogZmFsc2UsXG4gICAgICAgICAgICB4VG91Y2g6IDAsXG4gICAgICAgICAgICB5VG91Y2g6IDBcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBjb25uZWN0IGFuZCBzdGFydCBsaXN0ZW5pbmdcbiAgICAgKi9cbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5fY29udHJvbGxlci5jb25uZWN0KCk7XG4gICAgICAgIHRoaXMuY29ubmVjdGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBvbiBjb250cm9sbGVyIHVwZGF0ZVxuICAgICAqIEBwYXJhbSBzdGF0ZVxuICAgICAqL1xuICAgIG9uQ29udHJvbGxlclVwZGF0ZShzdGF0ZSkge1xuICAgICAgICB0aGlzLl9zZW5zb3JmdXNpb24udXBkYXRlKFxuICAgICAgICAgICAgc3RhdGUueEd5cm8sIHN0YXRlLnlHeXJvLCBzdGF0ZS56R3lybyxcbiAgICAgICAgICAgIHN0YXRlLnhBY2MsIHN0YXRlLnlBY2MsIHN0YXRlLnpBY2MsXG4gICAgICAgICAgICBzdGF0ZS54T3JpLCBzdGF0ZS55T3JpLCBzdGF0ZS56T3JpXG4gICAgICAgICk7XG5cbiAgICAgICAgdmFyIGNoYW5nZWQgPSBbXTtcbiAgICAgICAgaWYgKHN0YXRlLmlzQ2xpY2tEb3duICE9PSB0aGlzLl9idXR0b25zLmNsaWNrKSB7XG4gICAgICAgICAgICB0aGlzLl9idXR0b25zLmNsaWNrID0gc3RhdGUuaXNDbGlja0Rvd247XG4gICAgICAgICAgICBjaGFuZ2VkLnB1c2goIHsgJ2NsaWNrJzogc3RhdGUuaXNDbGlja0Rvd24gfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3RhdGUuaXNBcHBEb3duICE9PSB0aGlzLl9idXR0b25zLmFwcCkge1xuICAgICAgICAgICAgdGhpcy5fYnV0dG9ucy5hcHAgPSBzdGF0ZS5pc0FwcERvd247XG4gICAgICAgICAgICBjaGFuZ2VkLnB1c2goIHsgJ2FwcCc6IHN0YXRlLmlzQXBwRG93biB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdGF0ZS5pc0hvbWVEb3duICE9PSB0aGlzLl9idXR0b25zLmhvbWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2J1dHRvbnMuaG9tZSA9IHN0YXRlLmlzSG9tZURvd247XG4gICAgICAgICAgICBjaGFuZ2VkLnB1c2goIHsgJ2hvbWUnOiBzdGF0ZS5pc0hvbWVEb3duIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0YXRlLmlzVm9sTWludXNEb3duICE9PSB0aGlzLl9idXR0b25zLnZvbHVtZU1pbnVzKSB7XG4gICAgICAgICAgICB0aGlzLl9idXR0b25zLnZvbHVtZU1pbnVzID0gc3RhdGUuaXNWb2xNaW51c0Rvd247XG4gICAgICAgICAgICBjaGFuZ2VkLnB1c2goIHsgJ3ZvbHVtZU1pbnVzJzogc3RhdGUuaXNWb2xNaW51c0Rvd24gfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3RhdGUuaXNWb2xQbHVzRG93biAhPT0gdGhpcy5fYnV0dG9ucy52b2x1bWVQbHVzKSB7XG4gICAgICAgICAgICB0aGlzLl9idXR0b25zLnZvbHVtZVBsdXMgPSBzdGF0ZS5pc1ZvbFBsdXNEb3duO1xuICAgICAgICAgICAgY2hhbmdlZC5wdXNoKCB7ICd2b2x1bWVQbHVzJzogc3RhdGUuaXNWb2xQbHVzRG93biB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdGF0ZS54VG91Y2ggIT09IHRoaXMuX2J1dHRvbnMueFRvdWNoICYmIHN0YXRlLnlUb3VjaCAhPT0gdGhpcy5fYnV0dG9ucy55VG91Y2gpIHtcbiAgICAgICAgICAgIGNoYW5nZWQucHVzaCggeyAndG91Y2gnOiB7IHg6IHN0YXRlLnhUb3VjaCwgeTogc3RhdGUueVRvdWNoIH0gfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2hhbmdlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBjID0gMDsgYyA8IHRoaXMuX2NhbGxiYWNrcy5sZW5ndGg7IGMrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NhbGxiYWNrc1tjXS5hcHBseSh0aGlzLCBbY2hhbmdlZCwgc3RhdGVdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGdldCBvcmllbnRhdGlvbiBvZiBkZXZpY2VcbiAgICAgKi9cbiAgICBnZXQgb3JpZW50YXRpb24oKSB7XG4gICAgICAgIHZhciBxID0gbmV3IFRIUkVFLlF1YXRlcm5pb24oKTtcbiAgICAgICAgdmFyIHNmID0gdGhpcy5fc2Vuc29yZnVzaW9uLmdldFF1YXRlcm5pb24oKTtcbiAgICAgICAgc2YueSAtPSBNYXRoLlBJLzI7XG4gICAgICAgIHEgPSBxLmZyb21BcnJheShzZik7XG4gICAgICAgIHJldHVybiBxO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGFkZCBsaXN0ZW5lclxuICAgICAqIEBwYXJhbSBjYWxsYmFja1xuICAgICAqL1xuICAgIGFkZExpc3RlbmVyKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX2NhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBkZXRlY3QgYWdhaW5zdCBwb3NzaWJsZSBvYmplY3RzXG4gICAgICogQHBhcmFtIHBvc3NpYmxlT2JqZWN0c1xuICAgICAqL1xuICAgIHBvaW50aW5nQXQocG9zc2libGVPYmplY3RzKSB7XG4gICAgICAgIHZhciByYXljYXN0ZXIgPSBuZXcgVEhSRUUuUmF5Y2FzdGVyKCk7XG4gICAgICAgIHJheWNhc3Rlci5zZXRGcm9tQ2FtZXJhKCBuZXcgVEhSRUUuVmVjdG9yMigwLCAwKSwgdGhpcy5zY2VuZUNvbGxlY3Rpb24uY2FtZXJhICk7XG4gICAgICAgIHZhciBjb2xsaXNpb25zID0gcmF5Y2FzdGVyLmludGVyc2VjdE9iamVjdHMoIHBvc3NpYmxlT2JqZWN0cyApO1xuICAgICAgICByZXR1cm4gY29sbGlzaW9ucztcbiAgICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBHYXplSW5wdXQge1xuICAgIGNvbnN0cnVjdG9yKGNhbWVyYSkge1xuICAgICAgICB0aGlzLl9jYW1lcmEgPSBjYW1lcmE7XG4gICAgICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2NhbGxiYWNrcyA9IFtdO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChlKSA9PiB0aGlzLm9uQ2xpY2soZSkgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBjb25uZWN0IGFuZCBzdGFydCBsaXN0ZW5pbmdcbiAgICAgKi9cbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5jb25uZWN0ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGFkZCBsaXN0ZW5lclxuICAgICAqIEBwYXJhbSBjYWxsYmFja1xuICAgICAqL1xuICAgIGFkZExpc3RlbmVyKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX2NhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBvbiBib2R5IGNsaWNrXG4gICAgICovXG4gICAgb25DbGljayhldmVudCkge1xuICAgICAgICBmb3IgKHZhciBjID0gMDsgYyA8IHRoaXMuX2NhbGxiYWNrcy5sZW5ndGg7IGMrKykge1xuICAgICAgICAgICAgdGhpcy5fY2FsbGJhY2tzW2NdLmFwcGx5KHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogZ2V0IG9yaWVudGF0aW9uIG9mIGRldmljZVxuICAgICAqL1xuICAgIGdldCBvcmllbnRhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhbWVyYS5xdWF0ZXJuaW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGRldGVjdCBhZ2FpbnN0IHBvc3NpYmxlIG9iamVjdHNcbiAgICAgKiBAcGFyYW0gcG9zc2libGVPYmplY3RzXG4gICAgICovXG4gICAgcG9pbnRpbmdBdChwb3NzaWJsZU9iamVjdHMpIHtcbiAgICAgICAgdmFyIHJheWNhc3RlciA9IG5ldyBUSFJFRS5SYXljYXN0ZXIoKTtcbiAgICAgICAgcmF5Y2FzdGVyLnNldEZyb21DYW1lcmEoIG5ldyBUSFJFRS5WZWN0b3IyKDAsIDApLCB0aGlzLl9jYW1lcmEgKTtcbiAgICAgICAgdmFyIGNvbGxpc2lvbnMgPSByYXljYXN0ZXIuaW50ZXJzZWN0T2JqZWN0cyggcG9zc2libGVPYmplY3RzICk7XG4gICAgICAgIHJldHVybiBjb2xsaXNpb25zO1xuICAgIH1cbn1cbiIsImltcG9ydCBDb2xvciBmcm9tICcuLi91dGlscy9jb2xvci5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFR3ZWVuIHtcbiAgICBjb25zdHJ1Y3Rvcihncm91cCkge1xuICAgICAgICBpZiAoIWNyZWF0ZWpzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NyZWF0ZUpTIFR3ZWVuIG11c3QgYmUgaW5jbHVkZWQgaW4geW91ciBidWlsZCBvciBsaW5rZWQgdmlhIHNjcmlwdCB0byBhbmltYXRlJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZ3JvdXAuYWRkUmVuZGVySG9vayggKHNjZW5lLCB0aW1lKSA9PiB0aGlzLm9uUmVuZGVyKHNjZW5lLCB0aW1lKSk7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucyA9IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGFuaW1hdGUgVEhSRUUuanMgbWVzaCBwb3NpdGlvbiBwcm9wZXJ0eVxuICAgICAqIEBwYXJhbSB7aW50fSBmcm9tXG4gICAgICogQHBhcmFtIHtpbnR9IHRvXG4gICAgICogQHBhcmFtIG9wdGlvbnNcbiAgICAgKi9cbiAgICBhbmltYXRlQ29sb3IoZnJvbSwgdG8sIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBmcm9tICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBmcm9tICE9PSAnbnVtYmVyJyAmJiBmcm9tLmNoYXJBdCgwKSA9PT0gJyMnKSB7XG4gICAgICAgICAgICAgICAgZnJvbSA9IE51bWJlcignMHgnICsgZnJvbS5zdWJzdHIoMSwgZnJvbS5sZW5ndGgpKTtcbiAgICAgICAgICAgICAgICBmcm9tID0gQ29sb3IuZGVjVG9SR0IoZnJvbSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZyb20gPSBDb2xvci5kZWNUb1JHQihmcm9tKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgdG8gIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRvICE9PSAnbnVtYmVyJyAmJiB0by5jaGFyQXQoMCkgPT09ICcjJykge1xuICAgICAgICAgICAgICAgIHRvID0gTnVtYmVyKCcweCcgKyB0by5zdWJzdHIoMSwgdG8ubGVuZ3RoKSk7XG4gICAgICAgICAgICAgICAgdG8gPSBDb2xvci5kZWNUb1JHQih0byk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRvID0gQ29sb3IuZGVjVG9SR0IodG8pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnJvbSA9IHRoaXMucG9wdWxhdGVTdGFydEFuaW1hdGlvbk9iamVjdChmcm9tLCBvcHRpb25zKTtcbiAgICAgICAgZnJvbS5hbmltYXRpb24uc3RlcC5wdXNoKCAoc3RlcCkgPT4gdGhpcy5hbmltYXRlQ29sb3JTdGVwKHN0ZXApKTtcbiAgICAgICAgdGhpcy5jcmVhdGVUd2Vlbih0bywgZnJvbSwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucy5wdXNoKGZyb20pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGFuaW1hdGUgVEhSRUUuanMgbWVzaCBwb3NpdGlvbiBwcm9wZXJ0eVxuICAgICAqIEBwYXJhbSB7VGhyZWUuanMgVmVjdG9yM30gZnJvbVxuICAgICAqIEBwYXJhbSB7VGhyZWUuanMgVmVjdG9yM30gdG9cbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqL1xuICAgIGFuaW1hdGVQb3NpdGlvbihmcm9tLCB0bywgb3B0aW9ucykge1xuICAgICAgICBmcm9tID0geyB4OiBmcm9tLngsIHk6IGZyb20ueSwgejogZnJvbS56IH07XG4gICAgICAgIHRvID0geyB4OiB0by54LCB5OiB0by55LCB6OiB0by56IH07XG4gICAgICAgIGZyb20gPSB0aGlzLnBvcHVsYXRlU3RhcnRBbmltYXRpb25PYmplY3QoZnJvbSwgb3B0aW9ucyk7XG4gICAgICAgIGZyb20uYW5pbWF0aW9uLnN0ZXAucHVzaCggKHN0ZXApID0+IHRoaXMuYW5pbWF0ZVBvc2l0aW9uU3RlcChzdGVwKSk7XG4gICAgICAgIHRoaXMuY3JlYXRlVHdlZW4odG8sIGZyb20sIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLmFuaW1hdGlvbnMucHVzaChmcm9tKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBjcmVhdGUgYW5kIHN0YXJ0IGFuaW1hdGlvblxuICAgICAqIEBwYXJhbSBmcm9tXG4gICAgICogQHBhcmFtIHRvXG4gICAgICogQHBhcmFtIG9wdGlvbnNcbiAgICAgKi9cbiAgICBhbmltYXRlKGZyb20sIHRvLCBvcHRpb25zKSB7XG4gICAgICAgIGlmICghY3JlYXRlanMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ3JlYXRlSlMgVHdlZW4gbXVzdCBiZSBpbmNsdWRlZCBpbiB5b3VyIGJ1aWxkIG9yIGxpbmtlZCB2aWEgc2NyaXB0IHRvIGFuaW1hdGUnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghb3B0aW9ucy5zdGVwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BsZWFzZSBkZWZpbmUgYSBcInN0ZXBcIiBwcm9wZXJ0eSBvbiBvcHRpb25zIHRvIHNwZWNpZnkgYSBjYWxsYmFjayBmb3IgZWFjaCBhbmltYXRpb24gdXBkYXRlJyk7XG4gICAgICAgIH1cblxuICAgICAgICBmcm9tID0gdGhpcy5wb3B1bGF0ZVN0YXJ0QW5pbWF0aW9uT2JqZWN0KGZyb20sIHRvKTtcbiAgICAgICAgdGhpcy5jcmVhdGVUd2Vlbih0bywgZnJvbSwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucy5wdXNoKGZyb20pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHBvcHVsYXRlIGFuaW1hdGlvbiBzdGFydCBvYmplY3RcbiAgICAgKiBAcGFyYW0gZnJvbVxuICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICogQHJldHVybnMgeyp9XG4gICAgICovXG4gICAgcG9wdWxhdGVTdGFydEFuaW1hdGlvbk9iamVjdChmcm9tLCBvcHRpb25zKSB7XG4gICAgICAgIGZyb20uYW5pbWF0aW9uID0ge307XG4gICAgICAgIGZyb20uYW5pbWF0aW9uLmFuaW1hdGluZyA9IHRydWU7XG4gICAgICAgIGZyb20uYW5pbWF0aW9uLnN0ZXAgPSBbXTtcbiAgICAgICAgaWYgKG9wdGlvbnMuc3RlcCkge1xuICAgICAgICAgICAgZnJvbS5hbmltYXRpb24uc3RlcC5wdXNoKG9wdGlvbnMuc3RlcCk7XG4gICAgICAgIH1cbiAgICAgICAgZnJvbS5hbmltYXRpb24udGFyZ2V0ID0gb3B0aW9ucy50YXJnZXQ7XG4gICAgICAgIGZyb20uYW5pbWF0aW9uLmxvb3AgPSBvcHRpb25zLmxvb3A7XG4gICAgICAgIGZyb20uYW5pbWF0aW9uLmNvbXBsZXRlID0gb3B0aW9ucy5jb21wbGV0ZTtcbiAgICAgICAgcmV0dXJuIGZyb207XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogY3JlYXRlIHR3ZWVuXG4gICAgICogQHBhcmFtIHRvXG4gICAgICogQHBhcmFtIGZyb21cbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqIEByZXR1cm5zIHtUd2Vlbn1cbiAgICAgKi9cbiAgICBjcmVhdGVUd2Vlbih0bywgZnJvbSwgb3B0aW9ucykge1xuICAgICAgICBjcmVhdGVqcy5Ud2Vlbi5nZXQoZnJvbSwgb3B0aW9ucylcbiAgICAgICAgICAgIC50byh0bywgb3B0aW9ucy5kdXJhdGlvbilcbiAgICAgICAgICAgIC5jYWxsKCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2xvb3ApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb24uYW5pbWF0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvbi5jb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvbi5jb21wbGV0ZS5hcHBseSh0aGlzLCBbdGhpc10pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGFuaW1hdGUgc3RlcCBmb3IgVGhyZWUuSlMgcG9zaXRpb25cbiAgICAgKiBAcGFyYW0gc3RlcFxuICAgICAqL1xuICAgIGFuaW1hdGVQb3NpdGlvblN0ZXAoc3RlcCkge1xuICAgICAgICBzdGVwLmFuaW1hdGlvbi50YXJnZXQucG9zaXRpb24uc2V0KHN0ZXAueCwgc3RlcC55LCBzdGVwLnopO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGFuaW1hdGUgc3RlcCBmb3IgVGhyZWUuSlMgbWF0ZXJpYWwgY29sb3JcbiAgICAgKiBAcGFyYW0gc3RlcFxuICAgICAqL1xuICAgIGFuaW1hdGVDb2xvclN0ZXAoc3RlcCkge1xuICAgICAgICBzdGVwLmFuaW1hdGlvbi50YXJnZXQubWF0ZXJpYWwuY29sb3Iuc2V0UkdCKHN0ZXAuci8yNTUsIHN0ZXAuZy8yNTUsIHN0ZXAuYi8yNTUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGFuaW1hdGUgcmVuZGVyIGhvb2tcbiAgICAgKiBAcGFyYW0gdGltZVxuICAgICAqIEBwYXJhbSBzY2VuZVxuICAgICAqL1xuICAgIG9uUmVuZGVyKHNjZW5lLCB0aW1lKSB7XG4gICAgICAgIHZhciBydW5uaW5nID0gW107XG4gICAgICAgIGZvciAodmFyIGMgPSAwOyBjIDwgdGhpcy5hbmltYXRpb25zLmxlbmd0aDsgYysrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25zW2NdLmFuaW1hdGlvbi5hbmltYXRpbmcpIHtcbiAgICAgICAgICAgICAgICBydW5uaW5nLnB1c2godGhpcy5hbmltYXRpb25zW2NdKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBkID0gMDsgZCA8IHRoaXMuYW5pbWF0aW9uc1tjXS5hbmltYXRpb24uc3RlcC5sZW5ndGg7IGQrKykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvbnNbY10uYW5pbWF0aW9uLnN0ZXBbZF0uYXBwbHkodGhpcywgW3RoaXMuYW5pbWF0aW9uc1tjXV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFuaW1hdGlvbnMgPSBydW5uaW5nO1xuICAgIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IHtcbiAgICAvKipcbiAgICAgKiB0dXJuIGRlY2ltYWwgY29sb3IgdG8gUkdCXG4gICAgICogQHBhcmFtIGRlY1xuICAgICAqIEByZXR1cm5zIHt7cjogbnVtYmVyLCBnOiBudW1iZXIsIGI6IG51bWJlcn19XG4gICAgICovXG4gICAgZGVjVG9SR0IoZGVjKSB7XG4gICAgICAgIHZhciByID0gKGRlYyA+PiAxNikgJiAweGZmO1xuICAgICAgICB2YXIgZyA9IChkZWMgPj4gOCkgICYgMHhmZjtcbiAgICAgICAgdmFyIGIgPSBkZWMgJiAweGZmO1xuICAgICAgICByZXR1cm4geyByOiByLCBnOiBnLCBiOiBiIH07XG4gICAgfSxcblxuICAgIFJHQlRvRGVjKHJnYikge1xuICAgICAgICByZXR1cm4gcmdiLnIgPDwgMTYgKyByZ2IuZyA8PCAxNiArIHJnYi5iO1xuICAgIH1cbn1cbiIsImltcG9ydCBCYXNlQXBwbGljYXRpb24gZnJvbSAnLi4vbm9kZV9tb2R1bGVzL21hY2d5dnIvc3JjL2Jhc2VhcHBsaWNhdGlvbi5qcyc7XG5pbXBvcnQgQ3ViZSBmcm9tICcuL29iamVjdHMvY3ViZS5qcyc7XG5pbXBvcnQgRG9tZSBmcm9tICcuL29iamVjdHMvZG9tZS5qcyc7XG5pbXBvcnQgVGVzdFNjZW5lIGZyb20gJy4vb2JqZWN0cy90ZXN0c2NlbmUuanMnO1xuaW1wb3J0IERheWRyZWFtSW5wdXQgZnJvbSAnLi4vbm9kZV9tb2R1bGVzL21hY2d5dnIvc3JjL3BsdWdpbnMvaW5wdXQvZGF5ZHJlYW0uanMnO1xuaW1wb3J0IEdhemVJbnB1dCBmcm9tICcuLi9ub2RlX21vZHVsZXMvbWFjZ3l2ci9zcmMvcGx1Z2lucy9pbnB1dC9nYXplLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFpbiBleHRlbmRzIEJhc2VBcHBsaWNhdGlvbiB7XG4gICAgb25DcmVhdGUoc2NlbmUsIHNjZW5lY29sbGVjdGlvbikge1xuICAgICAgICB0aGlzLl9zY2VuZUNvbGxlY3Rpb24gPSBzY2VuZWNvbGxlY3Rpb247XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERheWRyZWFtIGNvbnRyb2xsZXJcbiAgICAgICAgICovXG4gICAgICAgIC8qdGhpcy5fc2NlbmVDb2xsZWN0aW9uLmlucHV0ID0gbmV3IERheWRyZWFtSW5wdXQoKTtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbm5lY3QtYnV0dG9uJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICAgICAgICAgIGUudGFyZ2V0LnJlbW92ZSgpO1xuICAgICAgICAgICAgdGhpcy5fc2NlbmVDb2xsZWN0aW9uLmlucHV0LnN0YXJ0KCk7XG4gICAgICAgIH0pOyovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdhemUgSW5wdXRcbiAgICAgICAgICovXG4gICAgICAgIC8vdGhpcy5fc2NlbmVDb2xsZWN0aW9uLmlucHV0ID0gbmV3IEdhemVJbnB1dChzY2VuZWNvbGxlY3Rpb24uY2FtZXJhKTtcbiAgICAgICAgLy90aGlzLl9zY2VuZUNvbGxlY3Rpb24uaW5wdXQuc3RhcnQoKTtcblxuICAgICAgICBzY2VuZS5hZGRPYmplY3RzKFtcbiAgICAgICAgICAgIG5ldyBEb21lKCksXG4gICAgICAgICAgICBuZXcgQ3ViZSgpLFxuICAgICAgICAgICAgbmV3IFRlc3RTY2VuZSh7IHNjZW5lOiAnLi9zcmMvYXNzZXRzL3RlbXBzY2VuZS5qc29uJyB9KVxuICAgICAgICBdKTtcbiAgICB9XG5cbiAgICBvblJlbmRlcih0aW1lKSB7fVxufVxuIiwiaW1wb3J0IEJhc2VHcm91cCBmcm9tICcuLi8uLi9ub2RlX21vZHVsZXMvbWFjZ3l2ci9zcmMvYmFzZWdyb3VwLmpzJztcbmltcG9ydCBUd2VlbiBmcm9tICcuLi8uLi9ub2RlX21vZHVsZXMvbWFjZ3l2ci9zcmMvcGx1Z2lucy90d2Vlbi5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEN1YmUgZXh0ZW5kcyBCYXNlR3JvdXAge1xuICAgIC8qKlxuICAgICAqIG9uIGNyZWF0ZSBzY2VuZSAob3IgZWFybGllc3QgcG9zc2libGUgb3Bwb3J0dW5pdHkpXG4gICAgICogQHBhcmFtIHNjZW5lXG4gICAgICovXG4gICAgb25DcmVhdGUoKSB7XG4gICAgICAgIHRoaXMuX21hdGVyaWFsID0gdGhpcy5jcmVhdGVNYXRlcmlhbCgpO1xuICAgICAgICB0aGlzLl9tZXNoID0gbmV3IFRIUkVFLk1lc2godGhpcy5jcmVhdGVHZW9tZXRyeSgpLCB0aGlzLl9tYXRlcmlhbCk7XG4gICAgICAgIHRoaXMuYWRkKHRoaXMuX21lc2gsICdjdWJlJyk7XG4gICAgICAgIHRoaXMuZ3JvdXAucG9zaXRpb24ueiA9IC0yMDtcbiAgICAgICAgdGhpcy50d2VlbmVyID0gbmV3IFR3ZWVuKHRoaXMpO1xuICAgICAgICAvL3RoaXMuaW5wdXQgPSBuZXcgR2F6ZUlucHV0KHRoaXMuc2NlbmVDb2xsZWN0aW9uLCBbdGhpcy5fbWVzaF0pO1xuICAgICAgICAvL3RoaXMuaW5wdXQuYWRkTGlzdGVuZXIoIChvYmplY3RzKSA9PiB0aGlzLm9uR2F6ZUlucHV0KG9iamVjdHMpKTtcbiAgICAgICAgLy90aGlzLnNjZW5lQ29sbGVjdGlvbi5pbnB1dC5hZGRMaXN0ZW5lciggKGNoYW5nZWQsIHN0YXRlKSA9PiB0aGlzLm9uSW5wdXQoY2hhbmdlZCwgc3RhdGUpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBvbiBvYmplY3QgY2xpY2sgZXZlbnRcbiAgICAgKiBAcGFyYW0gY29sbGlzaW9uc1xuICAgICAqL1xuICAgIG9uSW5wdXQoKSB7XG4gICAgICAgIHZhciBwb2ludGluZ0F0ID0gdGhpcy5zY2VuZUNvbGxlY3Rpb24uaW5wdXQucG9pbnRpbmdBdChbdGhpcy5fbWVzaF0pO1xuICAgICAgICBpZiAocG9pbnRpbmdBdC5sZW5ndGggPiAwICYmIHBvaW50aW5nQXRbMF0ub2JqZWN0ID09PSB0aGlzLl9tZXNoKSB7XG4gICAgICAgICAgICB2YXIgcHJvcHMgPSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiB0aGlzLl9tZXNoLFxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAzMDAwXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy50d2VlbmVyLmFuaW1hdGVDb2xvciggMHhmZjAwMDAsIDB4MDBmZjAwLCBwcm9wcyApO1xuICAgICAgICAgICAgdGhpcy50d2VlbmVyLmFuaW1hdGVQb3NpdGlvbiggbmV3IFRIUkVFLlZlY3RvcjMoMCwwLDApLCBuZXcgVEhSRUUuVmVjdG9yMygxMCw2LDMpLCBwcm9wcyApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogb24gZGF5IGRyZWFtIGlucHV0XG4gICAgICogQHBhcmFtIGNoYW5nZWRcbiAgICAgKiBAcGFyYW0gc3RhdGVcbiAgICAgKi9cbiAgICBvbkRheURyZWFtSW5wdXQoY2hhbmdlZCwgc3RhdGUpIHt9XG5cbiAgICAvKipcbiAgICAgKiBvbiByZW5kZXJcbiAgICAgKiBAcGFyYW0gdGltZVxuICAgICAqL1xuICAgIG9uUmVuZGVyKHRpbWUpIHtcbiAgICAgICAgdGhpcy5ncm91cC5yb3RhdGlvbi55ICs9IC4wMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBjcmVhdGUgZ2xvYmUgZ2VvbWV0cnlcbiAgICAgKiBAcmV0dXJucyB7VEhSRUUuSWNvc2FoZWRyb25HZW9tZXRyeX1cbiAgICAgKi9cbiAgICBjcmVhdGVHZW9tZXRyeSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUSFJFRS5DdWJlR2VvbWV0cnkoNSwgNSwgNSwgMTAsIDEwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBjcmVhdGUgZ2xvYmUgbWF0ZXJpYWxcbiAgICAgKi9cbiAgICBjcmVhdGVNYXRlcmlhbCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUSFJFRS5NZXNoUGhvbmdNYXRlcmlhbCh7XG4gICAgICAgICAgICBjb2xvciAgICAgIDogIDB4ZmYwMDAwLFxuICAgICAgICAgICAgc2hpbmluZXNzICA6ICAxMCxcbiAgICAgICAgICAgIHNoYWRpbmcgICAgOiAgVEhSRUUuRmxhdFNoYWRpbmcsXG4gICAgICAgICAgICB0cmFuc3BhcmVudDogdHJ1ZSxcbiAgICAgICAgICAgIG9wYWNpdHkgICAgOiAxXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsImltcG9ydCBCYXNlR3JvdXAgZnJvbSAnLi4vLi4vbm9kZV9tb2R1bGVzL21hY2d5dnIvc3JjL2Jhc2Vncm91cC5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERvbWUgZXh0ZW5kcyBCYXNlR3JvdXAge1xuICAgIC8qKlxuICAgICAqIG9uIGNyZWF0ZSBzY2VuZSAob3IgZWFybGllc3QgcG9zc2libGUgb3Bwb3J0dW5pdHkpXG4gICAgICovXG4gICAgb25DcmVhdGUoKSB7XG4gICAgICAgIHRoaXMuX21hdGVyaWFsID0gdGhpcy5jcmVhdGVNYXRlcmlhbCgpO1xuICAgICAgICB0aGlzLl9jb2xvcmVkRmFjZSA9IDA7XG4gICAgICAgIHRoaXMuX21lc2ggPSBuZXcgVEhSRUUuTWVzaCh0aGlzLmNyZWF0ZUdlb21ldHJ5KCksIHRoaXMuX21hdGVyaWFsKTtcblxuICAgICAgICAvLyBoYWNrIGJlY2F1c2UgZm9yIHNvbWUgcmVhc29uLCB0aGUgc2V0IGNvbG9yIGlzIGRpZmZlcmVudCB3aGVuIHNldHRpbmcgZWFjaCBmYWNlIHRoYW4gdGhlIG9yaWdpbmFsIG1hdGVyaWFsXG4gICAgICAgIGZvciAodmFyIGMgPSAwOyBjIDwgdGhpcy5fbWVzaC5nZW9tZXRyeS5mYWNlcy5sZW5ndGg7IGMrKykge1xuICAgICAgICAgICAgdGhpcy5fbWVzaC5nZW9tZXRyeS5mYWNlc1tjXS5jb2xvci5zZXQoMHhjMWM0ODkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWRkKHRoaXMuX21lc2gsICdkb21lJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogb24gcmVuZGVyXG4gICAgICogQHBhcmFtIHRpbWVcbiAgICAgKi9cbiAgICBvblJlbmRlcih0aW1lKSB7XG4gICAgICAgIC8qaWYgKHRoaXMuc2NlbmVDb2xsZWN0aW9uLmlucHV0LmNvbm5lY3RlZCkge1xuICAgICAgICAgICAgdmFyIGRpcmVjdGlvbiA9IG5ldyBUSFJFRS5WZWN0b3IzKCAwLCAwLCAtMSkuYXBwbHlRdWF0ZXJuaW9uKCB0aGlzLnNjZW5lQ29sbGVjdGlvbi5pbnB1dC5vcmllbnRhdGlvbiApO1xuICAgICAgICAgICAgdmFyIHJheWNhc3RlciA9IG5ldyBUSFJFRS5SYXljYXN0ZXIoKTtcbiAgICAgICAgICAgIHJheWNhc3Rlci5zZXQoIHRoaXMuc2NlbmVDb2xsZWN0aW9uLmNhbWVyYS5wb3NpdGlvbiwgZGlyZWN0aW9uICk7XG4gICAgICAgICAgICB2YXIgY29sbGlzaW9ucyA9IHJheWNhc3Rlci5pbnRlcnNlY3RPYmplY3RzKCBbdGhpcy5fbWVzaF0gKTtcbiAgICAgICAgICAgIGlmIChjb2xsaXNpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9tZXNoLmdlb21ldHJ5LmZhY2VzW3RoaXMuX2NvbG9yZWRGYWNlXS5jb2xvci5zZXQoMHhjMWM0ODkpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2NvbG9yZWRGYWNlID0gY29sbGlzaW9uc1swXS5mYWNlSW5kZXg7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWVzaC5nZW9tZXRyeS5mYWNlc1t0aGlzLl9jb2xvcmVkRmFjZV0uY29sb3Iuc2V0KDB4ZmY5MTQ1KTtcbiAgICAgICAgICAgICAgICB0aGlzLl9tZXNoLmdlb21ldHJ5LmNvbG9yc05lZWRVcGRhdGUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9Ki9cbiAgICB9XG5cbiAgICBvbklucHV0KCkge1xuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogY3JlYXRlIGdsb2JlIGdlb21ldHJ5XG4gICAgICogQHJldHVybnMge1RIUkVFLkljb3NhaGVkcm9uR2VvbWV0cnl9XG4gICAgICovXG4gICAgY3JlYXRlR2VvbWV0cnkoKSB7XG4gICAgICAgIHJldHVybiBuZXcgVEhSRUUuSWNvc2FoZWRyb25HZW9tZXRyeSggODAwLCAyICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogY3JlYXRlIGdsb2JlIG1hdGVyaWFsXG4gICAgICovXG4gICAgY3JlYXRlTWF0ZXJpYWwoKSB7XG4gICAgICAgIHJldHVybiBuZXcgVEhSRUUuTWVzaFBob25nTWF0ZXJpYWwoe1xuICAgICAgICAgICAgY29sb3IgICAgICA6ICAweGMxYzQ4OSxcbiAgICAgICAgICAgIHZlcnRleENvbG9yczogVEhSRUUuRmFjZUNvbG9ycyxcbiAgICAgICAgICAgIHNpZGUgICAgICAgOiAgVEhSRUUuQmFja1NpZGUsXG4gICAgICAgICAgICBzaGluaW5lc3MgIDogIDEwLFxuICAgICAgICAgICAgc2hhZGluZyAgICA6ICBUSFJFRS5GbGF0U2hhZGluZ1xuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgQmFzZUdyb3VwIGZyb20gJy4uLy4uL25vZGVfbW9kdWxlcy9tYWNneXZyL3NyYy9iYXNlZ3JvdXAuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUZXN0U2NlbmUgZXh0ZW5kcyBCYXNlR3JvdXAge1xuICAgIC8qKlxuICAgICAqIG9uIGNyZWF0ZSBzY2VuZSAob3IgZWFybGllc3QgcG9zc2libGUgb3Bwb3J0dW5pdHkpXG4gICAgICovXG4gICAgb25DcmVhdGUoKSB7XG4gICAgfVxuXG4gICAgb25KU09OU2NlbmVMb2FkZWQoc2NlbmUpIHtcbiAgICAgICAgc3VwZXIub25KU09OU2NlbmVMb2FkZWQoc2NlbmUpO1xuICAgICAgICB0aGlzLl9jdWJlID0gc2NlbmUuZ2V0T2JqZWN0QnlOYW1lKCdCb3ggMScpO1xuICAgICAgICB0aGlzLl9zcGhlcmUgPSBzY2VuZS5nZXRPYmplY3RCeU5hbWUoJ1NwaGVyZSAyJyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIG9uIHJlbmRlclxuICAgICAqIEBwYXJhbSB0aW1lXG4gICAgICovXG4gICAgb25SZW5kZXIodGltZSkge1xuICAgIH1cbn1cbiJdfQ=="}