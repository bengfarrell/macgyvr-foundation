{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/main.js","src/objects/cube.js","src/objects/dome.js","src/objects/testscene.js","../macgyvr/src/baseapplication.js","../macgyvr/src/basegroup.js","../macgyvr/src/input/baseinput.js","../macgyvr/src/input/daydream.js","../macgyvr/src/input/gaze.js","../macgyvr/src/input/responsive.js","../macgyvr/src/utils/animation.js","../macgyvr/src/utils/color.js"],"names":[],"mappings":"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","file":"build.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import BaseApplication from '../node_modules/macgyvr/src/baseapplication.js';\nimport Cube from './objects/cube.js';\nimport Dome from './objects/dome.js';\nimport TestScene from './objects/testscene.js';\nimport ResponsiveInput from '../node_modules/macgyvr/src/input/responsive.js';\n\nexport default class Main extends BaseApplication {\n    onCreate(scene) {\n        // Controller setup...starts as gaze input, but switches to Daydream on button press\n        scene.controller = new ResponsiveInput(scene.camera);\n        scene.controller.connect();\n\n        // Objects are added here, replace, tweak, add your own\n        this.add([\n            new Dome(),\n            new Cube(),\n            new TestScene({ scene: './src/assets/tempscene.json' })\n        ]);\n    }\n\n    onRender(time) {}\n}\n","import BaseGroup from '../../node_modules/macgyvr/src/basegroup.js';\nimport Animation from '../../node_modules/macgyvr/src/utils/animation.js';\n\nexport default class Cube extends BaseGroup {\n    /**\n     * on create scene (or earliest possible opportunity)\n     * @param scene\n     */\n    onCreate() {\n        this._pointingAt = false;\n        this._material = this.createMaterial();\n        this._mesh = new THREE.Mesh(this.createGeometry(), this._material);\n        this.scene.controller.addPointable(this._mesh);\n        this.scene.controller.addListener('button', (type, event) => this.onClick(type, event));\n        this.add(this._mesh, 'cube');\n        this.group.position.z = -20;\n        this._mesh.position.x = -12;\n        this.animation = new Animation(this);\n    }\n\n    /**\n     * on click\n     * @param type\n     * @param event\n     */\n    onClick(type, event) {\n        if (this.scene.controller.isPointingAt(this._mesh)) {\n            var props = {\n                target: this._mesh,\n                duration: 3000\n            };\n            this.animation.animatePosition( this._mesh.position, new THREE.Vector3(Math.random() * 15, Math.random() * 15, Math.random() * 15), props );\n        }\n    }\n\n    /**\n     * on render\n     * @param time\n     */\n    onRender(time) {\n        this._mesh.rotation.y += .01;\n        var pointing = this._scene.controller.isPointingAt(this._mesh);\n        if (pointing !== this._pointingAt) {\n            if (pointing) {\n                this._mesh.scale.set(1.05, 1.05, 1.05);\n                this._mesh.material.color.set(0xffff00);\n            } else {\n                this._mesh.scale.set(1.0, 1.0, 1.0);\n                this._mesh.material.color.set(0xff0000);\n            }\n            this._pointingAt = pointing;\n        }\n    }\n\n    /**\n     * create globe geometry\n     * @returns {THREE.IcosahedronGeometry}\n     */\n    createGeometry() {\n        return new THREE.CubeGeometry(5, 5, 5, 10, 10);\n    }\n\n    /**\n     * create globe material\n     */\n    createMaterial() {\n        return new THREE.MeshPhongMaterial({\n            color      :  0xff0000,\n            shininess  :  10,\n            shading    :  THREE.FlatShading,\n        });\n    }\n}\n","import BaseGroup from '../../node_modules/macgyvr/src/basegroup.js';\n\nexport default class Dome extends BaseGroup {\n    /**\n     * on create scene (or earliest possible opportunity)\n     */\n    onCreate() {\n        this._mesh = new THREE.Mesh(this.createGeometry(), this.createMaterial());\n        this.add(this._mesh, 'dome');\n\n        this._particle = new THREE.Mesh(this.createParticleGeometry(), this.createParticleMaterial());\n        this._particle.scale.x = this._particle.scale.y = 10;\n        this.add( this._particle );\n    }\n\n    /**\n     * on render\n     * @param time\n     */\n    onRender(time) {\n        if (this.scene.controller.connected) {\n            var collisions = this.scene.controller.pointingAt([this._mesh]).collisions;\n            if (collisions.length > 0) {\n                this._particle.position.copy( collisions[0].point );\n            }\n        }\n    }\n\n    /**\n     * create globe geometry\n     * @returns {THREE.IcosahedronGeometry}\n     */\n    createGeometry() {\n        return new THREE.IcosahedronGeometry( 800, 2 );\n    }\n\n    /**\n     * create particle geometry\n     * @returns {THREE.IcosahedronGeometry}\n     */\n    createParticleGeometry() {\n        return new THREE.SphereGeometry(1, 4, 4);\n    }\n\n    /**\n     * create globe material\n     */\n    createMaterial() {\n        return new THREE.MeshPhongMaterial({\n            color      :  0xc1c489,\n            side       :  THREE.BackSide,\n            shininess  :  10,\n            shading    :  THREE.FlatShading\n        });\n    }\n\n    /**\n     * create particle material\n     * @returns {MeshPhongMaterial|db|Ca|*}\n     */\n    createParticleMaterial() {\n        return new THREE.MeshPhongMaterial({\n            color      :  0xff0000,\n            shading    :  THREE.FlatShading\n        });\n    }\n}\n","import BaseGroup from '../../node_modules/macgyvr/src/basegroup.js';\n\nexport default class TestScene extends BaseGroup {\n    /**\n     * on create scene (or earliest possible opportunity)\n     */\n    onCreate() {\n    }\n\n    onJSONSceneLoaded(scene) {\n        super.onJSONSceneLoaded(scene);\n        this._cube = scene.getObjectByName('Box 1');\n        this._sphere = scene.getObjectByName('Sphere 2');\n    };\n\n    /**\n     * on render\n     * @param time\n     */\n    onRender(time) {\n    }\n}\n","export default class BaseApplication {\n    constructor(ascene) {\n        this._ascene = ascene;\n        this._ascene.addBehavior(this);\n        this.el = { isPlaying: true };\n        this.onCreate(ascene);\n    }\n\n    /**\n     * a-frame tick\n     * @param time\n     */\n    tick(time) {\n        this.onRender(time)\n    }\n\n    /**\n     * add objects to scene\n     * @param grouplist\n     */\n    add(grouplist) {\n        for (var c in grouplist) {\n            grouplist[c].create(this._ascene);\n            this._ascene.addBehavior(grouplist[c]);\n        }\n    }\n\n    onCreate(ascene) {}\n    onRender(time) {}\n}\n","export default class BaseGroup {\n    constructor(params) {\n\n        /**\n         * parent group of child objects we will create\n         * @type {THREE.Object3D}\n         * @private\n         */\n        this._group = new THREE.Group();\n\n        this._config = params;\n        this.onInitialize(params);\n\n        this.el = { isPlaying: true };\n    }\n\n    /**\n     * get name of group\n     */\n    get name() {\n        return this.constructor.name;\n    }\n\n    /**\n     * overridable methods\n     * leave empty to be a simple abstraction we don't have to call super on\n     * @param scene\n     */\n    onCreate(scene) {};\n    onRender(scene, time) {};\n    onInitialize(params) {};\n    onAssetsLoaded(geometry, material) {};\n    onJSONSceneLoadProgress(progress) {};\n    onJSONSceneLoadError(err) {};\n    onJSONSceneLoaded(scene) { this.add(scene) };\n\n    /**\n     * on create scene (or earliest possible opportunity)\n     * @param scene\n     */\n    create(scene) {\n        this._group.name = this.name;\n        this._scene = scene;\n        scene.object3D.add(this._group);\n\n        if (this._config && this._config.assets) {\n            // todo: determine when to use JSON Loader, OBJ loader, or whatever\n            var loader = new THREE.JSONLoader();\n            loader.load(this._config.assets, (geometry, materials) => {\n                this.onAssetsLoaded(geometry, materials);\n            });\n        }\n\n        if (this._config && this._config.geometry) {\n            var loader = new THREE.BufferGeometryLoader();\n            loader.load(this._config.geometry, (geometry) => {\n                this.onAssetsLoaded(geometry);\n            });\n        }\n\n        if (this._config && this._config.scene) {\n            var loader = new THREE.ObjectLoader();\n            loader.load(this._config.scene, (loaded) => {\n                this.onJSONSceneLoaded(loaded);\n            }, (progress) => {\n                this.onJSONSceneLoadProgress(progress);\n            }, (err) => {\n                this.onJSONSceneLoadError(err);\n            });\n        }\n\n        this.onCreate();\n    }\n\n    /**\n     * add object to scene\n     * @param object\n     * @param name\n     */\n    add(object, name) {\n        if (!name) {\n            name = this.name + '-child';\n        }\n        object.name = name;\n        this._group.add(object);\n    }\n\n    /**\n     * get parent group object\n     * @returns {THREE.Object3D}\n     */\n    get group() {\n        return this._group;\n    }\n\n    /**\n     * get scene\n     * @returns {THREE.Object3D}\n     */\n    get scene() {\n        return this._scene;\n    }\n\n    /**\n     * get children of this group\n     * @returns {Array}\n     */\n    get children() {\n        return this._group.children;\n    }\n\n    /**\n     * on prerender scene\n     * @param scene\n     */\n    preRender() {}\n\n    /**\n     * on a-frame component tick\n     * @param time\n     */\n    tick(time) {\n        this.onRender(time);\n    }\n}\n","export default class BaseInput {\n    constructor() {\n        this.connected = false;\n        this._callbacks = [];\n        this._pointables = [];\n        this._lastPointingAtList = [];\n        this.el = { isPlaying: true };\n    }\n\n    /**\n     * add pointable obj\n     * @param obj\n     */\n    addPointable(obj) {\n        this._pointables.push(obj);\n    }\n\n    /**\n     * rmeove pointable object\n     * @param obj\n     */\n    removePointable(obj) {\n        for (var c = 0; c < this._pointables.length; c++) {\n            if (this._pointables.indexOf(obj) !== -1) {\n                this._pointables.splice(c, 1);\n            }\n        }\n    }\n\n    /**\n     * clear all pointables\n     */\n    clearPointables() {\n        this._pointables = [];\n    }\n\n    /**\n     * connect and start listening\n     */\n    connect() {\n        this.connected = true;\n        this.dispatchEvent('connected');\n    }\n\n    /**\n     * disconnect\n     */\n    disconnect() {\n        this.connected = false;\n    }\n\n    /**\n     * get orientation of device\n     */\n    get orientation() {}\n\n    /**\n     * add listener\n     * @param eventtype\n     * @param callback\n     */\n    addListener(eventtype, callback) {\n        this._callbacks.push( { type: eventtype, callback: callback } );\n    }\n\n    /**\n     * dispatch event\n     * @param type\n     * @param params\n     */\n    dispatchEvent(type, params) {\n        for (var c = 0; c < this._callbacks.length; c++) {\n            if (type === this._callbacks[c].type) {\n                this._callbacks[c].callback.apply(this, [type, params]);\n            }\n        }\n\n    }\n\n    /**\n     * clear listeners\n     */\n    clearListeners() {\n        this._callbacks = [];\n    }\n\n    /**\n     * detect against possible objects\n     * @param possibleObjects\n     */\n    pointingAt(possibleObjects) {\n        return { objects: [], collisions: []};\n    }\n\n    /**\n     * check if pointing at a specific mesh\n     * @param mesh\n     * @returns {boolean}\n     */\n    isPointingAt(mesh) {\n        return this.pointingAt([mesh]).objects.indexOf(mesh) !== -1;\n    }\n}\n","import BaseInput from './baseinput.js';\n\nexport default class Daydream extends BaseInput {\n    constructor(camera) {\n        super();\n        this._camera = camera;\n        this._controller = new DaydreamController();\n        this._controller.onStateChange((state) => this.onControllerUpdate(state));\n        this._sensorfusion = new MadgwickAHRS();\n        this._sensorfusion.setQuaternion( [ 0.7071067811865475, 0, 0, 0.7071067811865475 ] ); // Hack-ish: Rotate internal quaternion\n        this._buttons = {\n            app: false,\n            home: false,\n            click: false,\n            volumePlus: false,\n            volumeMinus: false,\n            xTouch: 0,\n            yTouch: 0\n        };\n    }\n\n    /**\n     * connect and start listening\n     */\n    connect() {\n        this.createButton();\n    }\n\n    /**\n     * on controller update\n     * @param state\n     */\n    onControllerUpdate(state) {\n        this._sensorfusion.update(\n            state.xGyro, state.yGyro, state.zGyro,\n            state.xAcc, state.yAcc, state.zAcc,\n            state.xOri, state.yOri, state.zOri\n        );\n\n        var changed = [];\n        if (state.isClickDown !== this._buttons.click) {\n            this._buttons.click = state.isClickDown;\n            changed.push( { 'click': state.isClickDown });\n        }\n\n        if (state.isAppDown !== this._buttons.app) {\n            this._buttons.app = state.isAppDown;\n            changed.push( { 'app': state.isAppDown });\n        }\n\n        if (state.isHomeDown !== this._buttons.home) {\n            this._buttons.home = state.isHomeDown;\n            changed.push( { 'home': state.isHomeDown });\n        }\n\n        if (state.isVolMinusDown !== this._buttons.volumeMinus) {\n            this._buttons.volumeMinus = state.isVolMinusDown;\n            changed.push( { 'volumeMinus': state.isVolMinusDown });\n        }\n\n        if (state.isVolPlusDown !== this._buttons.volumePlus) {\n            this._buttons.volumePlus = state.isVolPlusDown;\n            changed.push( { 'volumePlus': state.isVolPlusDown });\n        }\n\n        if (state.xTouch !== this._buttons.xTouch && state.yTouch !== this._buttons.yTouch) {\n            changed.push( { 'touch': { x: state.xTouch, y: state.yTouch } });\n        }\n\n        if (changed.length > 0) {\n            var event = { changed: changed, controllerstate: state };\n            if (this._pointables.length > 0) {\n                event.pointingat = this.pointingAt(this._pointables);\n            }\n            this.dispatchEvent('button', { changed: changed, controllerstate: state });\n        }\n    }\n\n    /**\n     * on click to connect controller\n     */\n    onConnectController() {\n        super.connect();\n        this._controller.connect();\n        this.dispatchEvent('connected');\n    }\n\n    /**\n     * get orientation of device\n     */\n    get orientation() {\n        if (!this.connected) {\n            return new THREE.Quaternion();\n        }\n        var q1 = new THREE.Quaternion().fromArray(this._sensorfusion.getQuaternion());\n        var q2 = new THREE.Quaternion().setFromEuler(new THREE.Euler(-Math.PI/2, 0, 0));\n        return q2.multiply(q1);\n    }\n\n    /**\n     * detect against possible objects\n     * @param possibleObjects\n     */\n    pointingAt(possibleObjects) {\n        if (!possibleObjects) {\n            possibleObjects = this._pointables;\n        }\n\n        var m = new THREE.Matrix4().makeRotationFromQuaternion(this.orientation);\n        var direction = new THREE.Vector3(0, 0, -1);\n        direction = direction.applyMatrix4(m);\n\n        var raycaster = new THREE.Raycaster();\n        raycaster.set( this._camera.position, direction );\n        var collisions = raycaster.intersectObjects( possibleObjects );\n        var objects = [];\n        for (var c = 0; c < collisions.length; c++) {\n            if (objects.indexOf(collisions[c].object) == -1) {\n                objects.push(collisions[c].object);\n            }\n        }\n        return { objects: objects, collisions: collisions };\n    }\n\n    createButton() {\n        var button = document.createElement('button');\n        button.className = 'a-enter-vr-button';\n        button.title = 'Connect to Daydream Controller';\n        var s = button.style;\n        s.left = '30px';\n        s.background = 'url(\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIxLjAuMiwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA1MCAzMCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNTAgMzA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDpub25lO3N0cm9rZTojRkZGRkZGO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1taXRlcmxpbWl0OjEwO30KCS5zdDF7ZmlsbDojRkZGRkZGO30KPC9zdHlsZT4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTM4LjMsOC40YzMuNSwwLDYuNSwzLDYuNSw2LjVzLTMsNi43LTYuNyw2LjdsLTI3LjYsMGMtMy43LDAtNi43LTMtNi43LTYuN2MwLTMuNywzLjItNi41LDYuOS02LjVMMzguMyw4LjR6IgoJLz4KPGNpcmNsZSBjbGFzcz0ic3QxIiBjeD0iMjguMSIgY3k9IjE0LjkiIHI9IjIuNyIvPgo8Y2lyY2xlIGNsYXNzPSJzdDEiIGN4PSIyMS43IiBjeT0iMTQuOSIgcj0iMi43Ii8+CjxjaXJjbGUgY2xhc3M9InN0MSIgY3g9IjM4LjMiIGN5PSIxNC45IiByPSI2LjUiLz4KPC9zdmc+Cg==\") 50% 50%/70% 70% no-repeat rgba(0,0,0,.35)';\n\n        // Prevent button from being selected and dragged.\n        button.draggable = false;\n        button.addEventListener('dragstart', function(e) {\n            e.preventDefault();\n        });\n\n        // Style it on hover.\n        button.addEventListener('mouseenter', function(e) {\n            s.filter = s.webkitFilter = 'drop-shadow(0 0 5px rgba(255,255,255,1))';\n        });\n        button.addEventListener('mouseleave', function(e) {\n            s.filter = s.webkitFilter = '';\n        });\n\n        // assign click event\n        button.addEventListener('click', e => this.onConnectController(e));\n\n        document.querySelector('.a-enter-vr').appendChild(button);\n    };\n}\n","import BaseInput from './baseinput.js';\n\nexport default class GazeInput extends BaseInput {\n    constructor(camera) {\n        super();\n        this._camera = camera;\n    }\n\n    /**\n     * connect and start listening\n     */\n    connect() {\n        super.connect();\n        document.body.addEventListener('mousedown', (e) => this.onClick(e) );\n    }\n\n    /**\n     * disconnect\n     */\n    disconnect() {\n        super.disconnect();\n        document.body.removeEventListener('mousedown', (e) => this.onClick(e) );\n    }\n\n    /**\n     * on body click\n     */\n    onClick(event) {\n        var e = {};\n        this.dispatchEvent('button', e );\n    }\n\n    /**\n     * get orientation of device\n     */\n    get orientation() {\n        return this._camera.quaternion;\n    }\n\n    /**\n     * detect against possible objects\n     * @param possibleObjects\n     */\n    pointingAt(possibleObjects) {\n        if (!possibleObjects) {\n            possibleObjects = this._pointables;\n        }\n        var raycaster = new THREE.Raycaster();\n        raycaster.setFromCamera( new THREE.Vector2(0, 0), this._camera );\n        var collisions = raycaster.intersectObjects( possibleObjects );\n        var objects = [];\n        for (var c = 0; c < collisions.length; c++) {\n            if (objects.indexOf(collisions[c].object) == -1) {\n                objects.push(collisions[c].object);\n            }\n        }\n        return { objects: objects, collisions: collisions };\n    }\n}\n","import BaseInput from './baseinput.js';\nimport GazeInput from './gaze.js';\nimport DaydreamInput from './daydream.js';\n\nexport default class ResponsiveInput extends BaseInput {\n    constructor(camera) {\n        super();\n        this.connected = false;\n        this._gaze = new GazeInput(camera);\n        this._daydream = new DaydreamInput(camera);\n        this._activeInput = this._gaze;\n\n        this._gaze.addListener('button', (eventtype, event) => this.onGazeInputClick(eventtype, event));\n        this._gaze.addListener('pointingat', (eventtype, event) => this.onPointingAt(eventtype, event));\n        this._gaze.connect();\n\n        // connecting to daydream just puts a button in the scene because Bluetooth must be initiated by a user\n        this._daydream.connect();\n        this._daydream.addListener('connected', () => this.onDayDreamConnected());\n        this._daydream.addListener('button', () => this.onDayDreamButtonClick());\n    }\n\n    /**\n     * on render\n     */\n    onRender() {\n        this._activeInput.onRender();\n    }\n\n    /**\n     * add pointable obj\n     * @param obj\n     */\n    addPointable(obj) {\n        this._gaze.addPointable(obj);\n        this._daydream.addPointable(obj);\n    }\n\n    /**\n     * rmeove pointable object\n     * @param obj\n     */\n    removePointable(obj) {\n        this._gaze.removePointable(obj);\n        this._daydream.removePointable(obj);\n    }\n\n    /**\n     * clear all pointables\n     */\n    clearPointables() {\n        this._gaze.clearPointables();\n        this._daydream.clearPointables();\n    }\n\n    /**\n     * connect and start listening\n     */\n    connect() {\n        this.connected = true;\n        this.dispatchEvent('connected');\n    }\n\n    /**\n     * on gaze input click\n     */\n    onGazeInputClick(eventtype, event) {\n        event.changed = [{ gazeclick: 'click'}];\n        event.state = { orientation: this._gaze.orientation };\n        this.dispatchEvent('button', event);\n    }\n\n    /**\n     * on daydream bluetooth connected\n     */\n    onDayDreamConnected() {\n        this._activeInput = this._daydream;\n    }\n\n    /**\n     * on daydream button click\n     */\n    onDayDreamButtonClick() {\n        this.dispatchEvent('button', event);\n    }\n\n    /**\n     * get orientation of device\n     */\n    get orientation() {\n        return this._activeInput.orientation;\n    }\n\n    /**\n     * add listener\n     * @param eventtype\n     * @param callback\n     */\n    addListener(eventtype, callback) {\n        this._callbacks.push( { type: eventtype, callback: callback } );\n    }\n\n    /**\n     * detect against possible objects\n     * @param possibleObjects\n     */\n    pointingAt(possibleObjects) {\n        return this._activeInput.pointingAt(possibleObjects);\n    }\n\n    /**\n     * check if pointing at a specific mesh\n     * @param mesh\n     * @returns {boolean}\n     */\n    isPointingAt(mesh) {\n        return this._activeInput.isPointingAt(mesh);\n    }\n}\n","import Color from '../utils/color.js';\n\nexport default class Tween {\n    constructor(group) {}\n\n    /**\n     * animate THREE.js mesh position property\n     * @param {int} from\n     * @param {int} to\n     * @param options\n     */\n    animateColor(from, to, options) {\n        if (typeof from !== 'object') {\n            if (typeof from !== 'number' && from.charAt(0) === '#') {\n                from = Number('0x' + from.substr(1, from.length));\n                from = Color.decToRGB(from);\n            } else {\n                from = Color.decToRGB(from);\n            }\n        }\n\n        if (typeof to !== 'object') {\n            if (typeof to !== 'number' && to.charAt(0) === '#') {\n                to = Number('0x' + to.substr(1, to.length));\n                to = Color.decToRGB(to);\n            } else {\n                to = Color.decToRGB(to);\n            }\n        }\n\n        from = this.populateStartAnimationObject(from, options);\n        from.animation.step.push( (step) => this.animateColorStep(step));\n\n        var anim = this.createTween(to, from, options);\n        anim.start();\n    }\n\n    /**\n     * animate THREE.js mesh position property\n     * @param {Three.js Vector3} from\n     * @param {Three.js Vector3} to\n     * @param options\n     */\n    animatePosition(from, to, options) {\n        from = { x: from.x, y: from.y, z: from.z };\n        to = { x: to.x, y: to.y, z: to.z };\n        from = this.populateStartAnimationObject(from, options);\n        from.animation.step.push( (step) => this.animatePositionStep(step));\n        var anim = this.createTween(to, from, options);\n        anim.start();\n    }\n\n    /**\n     * create and start animation\n     * @param from\n     * @param to\n     * @param options\n     */\n    animate(from, to, options) {\n        if (!options.step) {\n            throw new Error('Please define a \"step\" property on options to specify a callback for each animation update');\n        }\n\n        from = this.populateStartAnimationObject(from, to);\n        var anim = this.createTween(to, from, options);\n        anim.start();\n    }\n\n    /**\n     * populate animation start object\n     * @param from\n     * @param options\n     * @returns {*}\n     */\n    populateStartAnimationObject(from, options) {\n        from.animation = {};\n        from.animation.animating = true;\n        from.animation.step = [];\n        if (options.step) {\n            from.animation.step.push(options.step);\n        }\n        from.animation.target = options.target;\n        from.animation.loop = options.loop;\n        from.animation.complete = options.complete;\n        return from;\n    }\n\n    /**\n     * create tween\n     * @param to\n     * @param from\n     * @param options\n     * @returns {Tween}\n     */\n    createTween(to, from, options) {\n        return new TWEEN.Tween(from, options)\n            .to(to, options.duration)\n            .onUpdate(function (value) {\n                for (var d = 0; d < this.animation.step.length; d++) {\n                    this.animation.step[d].apply(this, [this]);\n                }\n            })\n            .onComplete( function() {\n                if (!this._loop) {\n                    this.animation.animating = false;\n                }\n                if (this.animation.complete) {\n                    this.animation.complete.apply(this, [this]);\n                }\n            });\n    }\n\n    /**\n     * animate step for Three.JS position\n     * @param step\n     */\n    animatePositionStep(step) {\n        step.animation.target.position.set(step.x, step.y, step.z);\n    }\n\n    /**\n     * animate step for Three.JS material color\n     * @param step\n     */\n    animateColorStep(step) {\n        step.animation.target.material.color.setRGB(step.r/255, step.g/255, step.b/255);\n    }\n\n    /**\n     * animate render hook\n     * @param time\n     */\n    /*onRender(time) {\n        var running = [];\n        for (var c = 0; c < this.animations.length; c++) {\n            if (this.animations[c].animation.animating) {\n                running.push(this.animations[c]);\n                console.log(this.animations[c])\n                for (var d = 0; d < this.animations[c].animation.step.length; d++) {\n                    this.animations[c].update();\n                    //this.animations[c].animation.step[d].apply(this, [this.animations[c]]);\n                }\n            }\n        }\n        this.animations = running;\n    }*/\n}\n","export default {\n    /**\n     * turn decimal color to RGB\n     * @param dec\n     * @returns {{r: number, g: number, b: number}}\n     */\n    decToRGB(dec) {\n        var r = (dec >> 16) & 0xff;\n        var g = (dec >> 8)  & 0xff;\n        var b = dec & 0xff;\n        return { r: r, g: g, b: b };\n    },\n\n    RGBToDec(rgb) {\n        return rgb.r << 16 + rgb.g << 16 + rgb.b;\n    }\n}\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvbWFpbi5qcyIsInNyYy9vYmplY3RzL2N1YmUuanMiLCJzcmMvb2JqZWN0cy9kb21lLmpzIiwic3JjL29iamVjdHMvdGVzdHNjZW5lLmpzIiwiLi4vbWFjZ3l2ci9zcmMvYmFzZWFwcGxpY2F0aW9uLmpzIiwiLi4vbWFjZ3l2ci9zcmMvYmFzZWdyb3VwLmpzIiwiLi4vbWFjZ3l2ci9zcmMvaW5wdXQvYmFzZWlucHV0LmpzIiwiLi4vbWFjZ3l2ci9zcmMvaW5wdXQvZGF5ZHJlYW0uanMiLCIuLi9tYWNneXZyL3NyYy9pbnB1dC9nYXplLmpzIiwiLi4vbWFjZ3l2ci9zcmMvaW5wdXQvcmVzcG9uc2l2ZS5qcyIsIi4uL21hY2d5dnIvc3JjL3V0aWxzL2FuaW1hdGlvbi5qcyIsIi4uL21hY2d5dnIvc3JjL3V0aWxzL2NvbG9yLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDQUE7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SSxBQUVxQjs7Ozs7Ozs7Ozs7aUMsQUFDUixPQUFPLEFBQ1o7QUFDQTtrQkFBQSxBQUFNLGFBQWEseUJBQW9CLE1BQXZDLEFBQW1CLEFBQTBCLEFBQzdDO2tCQUFBLEFBQU0sV0FBTixBQUFpQixBQUVqQjs7QUFDQTtpQkFBQSxBQUFLLElBQUksQ0FDTCxXQURLLFdBRUwsV0FGSyxXQUdMLHdCQUFjLEVBQUUsT0FIcEIsQUFBUyxBQUdMLEFBQWMsQUFBUyxBQUU5Qjs7OztpQyxBQUVRLE1BQU0sQUFBRTs7Ozs7O2tCLEFBZEE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ05yQjs7OztBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJLEFBRXFCOzs7Ozs7Ozs7O2FBQ2pCOzs7Ozs7bUNBSVc7eUJBQ1A7O2lCQUFBLEFBQUssY0FBTCxBQUFtQixBQUNuQjtp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LEdBQU8sR0FBM0U7QUFDSDs7QUFFRDs7OztBQUlBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztrQkFsSWlCLEs7Ozs7Ozs7O2tCQ0ZOO0FBQ1g7Ozs7O0FBS0EsWUFOVyxvQkFNRixHQU5FLEVBTUc7QUFDVixZQUFJLElBQUssT0FBTyxFQUFSLEdBQWMsSUFBdEI7QUFDQSxZQUFJLElBQUssT0FBTyxDQUFSLEdBQWMsSUFBdEI7QUFDQSxZQUFJLElBQUksTUFBTSxJQUFkO0FBQ0EsZUFBTyxFQUFFLEdBQUcsQ0FBTCxFQUFRLEdBQUcsQ0FBWCxFQUFjLEdBQUcsQ0FBakIsRUFBUDtBQUNILEtBWFU7QUFhWCxZQWJXLG9CQWFGLEdBYkUsRUFhRztBQUNWLGVBQU8sSUFBSSxDQUFKLElBQVMsS0FBSyxJQUFJLENBQWxCLElBQXVCLEtBQUssSUFBSSxDQUF2QztBQUNIO0FBZlUsQyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJpbXBvcnQgQmFzZUFwcGxpY2F0aW9uIGZyb20gJy4uL25vZGVfbW9kdWxlcy9tYWNneXZyL3NyYy9iYXNlYXBwbGljYXRpb24uanMnO1xuaW1wb3J0IEN1YmUgZnJvbSAnLi9vYmplY3RzL2N1YmUuanMnO1xuaW1wb3J0IERvbWUgZnJvbSAnLi9vYmplY3RzL2RvbWUuanMnO1xuaW1wb3J0IFRlc3RTY2VuZSBmcm9tICcuL29iamVjdHMvdGVzdHNjZW5lLmpzJztcbmltcG9ydCBSZXNwb25zaXZlSW5wdXQgZnJvbSAnLi4vbm9kZV9tb2R1bGVzL21hY2d5dnIvc3JjL2lucHV0L3Jlc3BvbnNpdmUuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYWluIGV4dGVuZHMgQmFzZUFwcGxpY2F0aW9uIHtcbiAgICBvbkNyZWF0ZShzY2VuZSkge1xuICAgICAgICAvLyBDb250cm9sbGVyIHNldHVwLi4uc3RhcnRzIGFzIGdhemUgaW5wdXQsIGJ1dCBzd2l0Y2hlcyB0byBEYXlkcmVhbSBvbiBidXR0b24gcHJlc3NcbiAgICAgICAgc2NlbmUuY29udHJvbGxlciA9IG5ldyBSZXNwb25zaXZlSW5wdXQoc2NlbmUuY2FtZXJhKTtcbiAgICAgICAgc2NlbmUuY29udHJvbGxlci5jb25uZWN0KCk7XG5cbiAgICAgICAgLy8gT2JqZWN0cyBhcmUgYWRkZWQgaGVyZSwgcmVwbGFjZSwgdHdlYWssIGFkZCB5b3VyIG93blxuICAgICAgICB0aGlzLmFkZChbXG4gICAgICAgICAgICBuZXcgRG9tZSgpLFxuICAgICAgICAgICAgbmV3IEN1YmUoKSxcbiAgICAgICAgICAgIG5ldyBUZXN0U2NlbmUoeyBzY2VuZTogJy4vc3JjL2Fzc2V0cy90ZW1wc2NlbmUuanNvbicgfSlcbiAgICAgICAgXSk7XG4gICAgfVxuXG4gICAgb25SZW5kZXIodGltZSkge31cbn1cbiIsImltcG9ydCBCYXNlR3JvdXAgZnJvbSAnLi4vLi4vbm9kZV9tb2R1bGVzL21hY2d5dnIvc3JjL2Jhc2Vncm91cC5qcyc7XG5pbXBvcnQgQW5pbWF0aW9uIGZyb20gJy4uLy4uL25vZGVfbW9kdWxlcy9tYWNneXZyL3NyYy91dGlscy9hbmltYXRpb24uanMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDdWJlIGV4dGVuZHMgQmFzZUdyb3VwIHtcbiAgICAvKipcbiAgICAgKiBvbiBjcmVhdGUgc2NlbmUgKG9yIGVhcmxpZXN0IHBvc3NpYmxlIG9wcG9ydHVuaXR5KVxuICAgICAqIEBwYXJhbSBzY2VuZVxuICAgICAqL1xuICAgIG9uQ3JlYXRlKCkge1xuICAgICAgICB0aGlzLl9wb2ludGluZ0F0ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX21hdGVyaWFsID0gdGhpcy5jcmVhdGVNYXRlcmlhbCgpO1xuICAgICAgICB0aGlzLl9tZXNoID0gbmV3IFRIUkVFLk1lc2godGhpcy5jcmVhdGVHZW9tZXRyeSgpLCB0aGlzLl9tYXRlcmlhbCk7XG4gICAgICAgIHRoaXMuc2NlbmUuY29udHJvbGxlci5hZGRQb2ludGFibGUodGhpcy5fbWVzaCk7XG4gICAgICAgIHRoaXMuc2NlbmUuY29udHJvbGxlci5hZGRMaXN0ZW5lcignYnV0dG9uJywgKHR5cGUsIGV2ZW50KSA9PiB0aGlzLm9uQ2xpY2sodHlwZSwgZXZlbnQpKTtcbiAgICAgICAgdGhpcy5hZGQodGhpcy5fbWVzaCwgJ2N1YmUnKTtcbiAgICAgICAgdGhpcy5ncm91cC5wb3NpdGlvbi56ID0gLTIwO1xuICAgICAgICB0aGlzLl9tZXNoLnBvc2l0aW9uLnggPSAtMTI7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9uID0gbmV3IEFuaW1hdGlvbih0aGlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBvbiBjbGlja1xuICAgICAqIEBwYXJhbSB0eXBlXG4gICAgICogQHBhcmFtIGV2ZW50XG4gICAgICovXG4gICAgb25DbGljayh0eXBlLCBldmVudCkge1xuICAgICAgICBpZiAodGhpcy5zY2VuZS5jb250cm9sbGVyLmlzUG9pbnRpbmdBdCh0aGlzLl9tZXNoKSkge1xuICAgICAgICAgICAgdmFyIHByb3BzID0ge1xuICAgICAgICAgICAgICAgIHRhcmdldDogdGhpcy5fbWVzaCxcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMzAwMFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uLmFuaW1hdGVQb3NpdGlvbiggdGhpcy5fbWVzaC5wb3NpdGlvbiwgbmV3IFRIUkVFLlZlY3RvcjMoTWF0aC5yYW5kb20oKSAqIDE1LCBNYXRoLnJhbmRvbSgpICogMTUsIE1hdGgucmFuZG9tKCkgKiAxNSksIHByb3BzICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBvbiByZW5kZXJcbiAgICAgKiBAcGFyYW0gdGltZVxuICAgICAqL1xuICAgIG9uUmVuZGVyKHRpbWUpIHtcbiAgICAgICAgdGhpcy5fbWVzaC5yb3RhdGlvbi55ICs9IC4wMTtcbiAgICAgICAgdmFyIHBvaW50aW5nID0gdGhpcy5fc2NlbmUuY29udHJvbGxlci5pc1BvaW50aW5nQXQodGhpcy5fbWVzaCk7XG4gICAgICAgIGlmIChwb2ludGluZyAhPT0gdGhpcy5fcG9pbnRpbmdBdCkge1xuICAgICAgICAgICAgaWYgKHBvaW50aW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWVzaC5zY2FsZS5zZXQoMS4wNSwgMS4wNSwgMS4wNSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWVzaC5tYXRlcmlhbC5jb2xvci5zZXQoMHhmZmZmMDApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9tZXNoLnNjYWxlLnNldCgxLjAsIDEuMCwgMS4wKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9tZXNoLm1hdGVyaWFsLmNvbG9yLnNldCgweGZmMDAwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9wb2ludGluZ0F0ID0gcG9pbnRpbmc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBjcmVhdGUgZ2xvYmUgZ2VvbWV0cnlcbiAgICAgKiBAcmV0dXJucyB7VEhSRUUuSWNvc2FoZWRyb25HZW9tZXRyeX1cbiAgICAgKi9cbiAgICBjcmVhdGVHZW9tZXRyeSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUSFJFRS5DdWJlR2VvbWV0cnkoNSwgNSwgNSwgMTAsIDEwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBjcmVhdGUgZ2xvYmUgbWF0ZXJpYWxcbiAgICAgKi9cbiAgICBjcmVhdGVNYXRlcmlhbCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUSFJFRS5NZXNoUGhvbmdNYXRlcmlhbCh7XG4gICAgICAgICAgICBjb2xvciAgICAgIDogIDB4ZmYwMDAwLFxuICAgICAgICAgICAgc2hpbmluZXNzICA6ICAxMCxcbiAgICAgICAgICAgIHNoYWRpbmcgICAgOiAgVEhSRUUuRmxhdFNoYWRpbmcsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsImltcG9ydCBCYXNlR3JvdXAgZnJvbSAnLi4vLi4vbm9kZV9tb2R1bGVzL21hY2d5dnIvc3JjL2Jhc2Vncm91cC5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERvbWUgZXh0ZW5kcyBCYXNlR3JvdXAge1xuICAgIC8qKlxuICAgICAqIG9uIGNyZWF0ZSBzY2VuZSAob3IgZWFybGllc3QgcG9zc2libGUgb3Bwb3J0dW5pdHkpXG4gICAgICovXG4gICAgb25DcmVhdGUoKSB7XG4gICAgICAgIHRoaXMuX21lc2ggPSBuZXcgVEhSRUUuTWVzaCh0aGlzLmNyZWF0ZUdlb21ldHJ5KCksIHRoaXMuY3JlYXRlTWF0ZXJpYWwoKSk7XG4gICAgICAgIHRoaXMuYWRkKHRoaXMuX21lc2gsICdkb21lJyk7XG5cbiAgICAgICAgdGhpcy5fcGFydGljbGUgPSBuZXcgVEhSRUUuTWVzaCh0aGlzLmNyZWF0ZVBhcnRpY2xlR2VvbWV0cnkoKSwgdGhpcy5jcmVhdGVQYXJ0aWNsZU1hdGVyaWFsKCkpO1xuICAgICAgICB0aGlzLl9wYXJ0aWNsZS5zY2FsZS54ID0gdGhpcy5fcGFydGljbGUuc2NhbGUueSA9IDEwO1xuICAgICAgICB0aGlzLmFkZCggdGhpcy5fcGFydGljbGUgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBvbiByZW5kZXJcbiAgICAgKiBAcGFyYW0gdGltZVxuICAgICAqL1xuICAgIG9uUmVuZGVyKHRpbWUpIHtcbiAgICAgICAgaWYgKHRoaXMuc2NlbmUuY29udHJvbGxlci5jb25uZWN0ZWQpIHtcbiAgICAgICAgICAgIHZhciBjb2xsaXNpb25zID0gdGhpcy5zY2VuZS5jb250cm9sbGVyLnBvaW50aW5nQXQoW3RoaXMuX21lc2hdKS5jb2xsaXNpb25zO1xuICAgICAgICAgICAgaWYgKGNvbGxpc2lvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3BhcnRpY2xlLnBvc2l0aW9uLmNvcHkoIGNvbGxpc2lvbnNbMF0ucG9pbnQgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGNyZWF0ZSBnbG9iZSBnZW9tZXRyeVxuICAgICAqIEByZXR1cm5zIHtUSFJFRS5JY29zYWhlZHJvbkdlb21ldHJ5fVxuICAgICAqL1xuICAgIGNyZWF0ZUdlb21ldHJ5KCkge1xuICAgICAgICByZXR1cm4gbmV3IFRIUkVFLkljb3NhaGVkcm9uR2VvbWV0cnkoIDgwMCwgMiApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGNyZWF0ZSBwYXJ0aWNsZSBnZW9tZXRyeVxuICAgICAqIEByZXR1cm5zIHtUSFJFRS5JY29zYWhlZHJvbkdlb21ldHJ5fVxuICAgICAqL1xuICAgIGNyZWF0ZVBhcnRpY2xlR2VvbWV0cnkoKSB7XG4gICAgICAgIHJldHVybiBuZXcgVEhSRUUuU3BoZXJlR2VvbWV0cnkoMSwgNCwgNCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogY3JlYXRlIGdsb2JlIG1hdGVyaWFsXG4gICAgICovXG4gICAgY3JlYXRlTWF0ZXJpYWwoKSB7XG4gICAgICAgIHJldHVybiBuZXcgVEhSRUUuTWVzaFBob25nTWF0ZXJpYWwoe1xuICAgICAgICAgICAgY29sb3IgICAgICA6ICAweGMxYzQ4OSxcbiAgICAgICAgICAgIHNpZGUgICAgICAgOiAgVEhSRUUuQmFja1NpZGUsXG4gICAgICAgICAgICBzaGluaW5lc3MgIDogIDEwLFxuICAgICAgICAgICAgc2hhZGluZyAgICA6ICBUSFJFRS5GbGF0U2hhZGluZ1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBjcmVhdGUgcGFydGljbGUgbWF0ZXJpYWxcbiAgICAgKiBAcmV0dXJucyB7TWVzaFBob25nTWF0ZXJpYWx8ZGJ8Q2F8Kn1cbiAgICAgKi9cbiAgICBjcmVhdGVQYXJ0aWNsZU1hdGVyaWFsKCkge1xuICAgICAgICByZXR1cm4gbmV3IFRIUkVFLk1lc2hQaG9uZ01hdGVyaWFsKHtcbiAgICAgICAgICAgIGNvbG9yICAgICAgOiAgMHhmZjAwMDAsXG4gICAgICAgICAgICBzaGFkaW5nICAgIDogIFRIUkVFLkZsYXRTaGFkaW5nXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsImltcG9ydCBCYXNlR3JvdXAgZnJvbSAnLi4vLi4vbm9kZV9tb2R1bGVzL21hY2d5dnIvc3JjL2Jhc2Vncm91cC5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRlc3RTY2VuZSBleHRlbmRzIEJhc2VHcm91cCB7XG4gICAgLyoqXG4gICAgICogb24gY3JlYXRlIHNjZW5lIChvciBlYXJsaWVzdCBwb3NzaWJsZSBvcHBvcnR1bml0eSlcbiAgICAgKi9cbiAgICBvbkNyZWF0ZSgpIHtcbiAgICB9XG5cbiAgICBvbkpTT05TY2VuZUxvYWRlZChzY2VuZSkge1xuICAgICAgICBzdXBlci5vbkpTT05TY2VuZUxvYWRlZChzY2VuZSk7XG4gICAgICAgIHRoaXMuX2N1YmUgPSBzY2VuZS5nZXRPYmplY3RCeU5hbWUoJ0JveCAxJyk7XG4gICAgICAgIHRoaXMuX3NwaGVyZSA9IHNjZW5lLmdldE9iamVjdEJ5TmFtZSgnU3BoZXJlIDInKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogb24gcmVuZGVyXG4gICAgICogQHBhcmFtIHRpbWVcbiAgICAgKi9cbiAgICBvblJlbmRlcih0aW1lKSB7XG4gICAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmFzZUFwcGxpY2F0aW9uIHtcbiAgICBjb25zdHJ1Y3Rvcihhc2NlbmUpIHtcbiAgICAgICAgdGhpcy5fYXNjZW5lID0gYXNjZW5lO1xuICAgICAgICB0aGlzLl9hc2NlbmUuYWRkQmVoYXZpb3IodGhpcyk7XG4gICAgICAgIHRoaXMuZWwgPSB7IGlzUGxheWluZzogdHJ1ZSB9O1xuICAgICAgICB0aGlzLm9uQ3JlYXRlKGFzY2VuZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogYS1mcmFtZSB0aWNrXG4gICAgICogQHBhcmFtIHRpbWVcbiAgICAgKi9cbiAgICB0aWNrKHRpbWUpIHtcbiAgICAgICAgdGhpcy5vblJlbmRlcih0aW1lKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGFkZCBvYmplY3RzIHRvIHNjZW5lXG4gICAgICogQHBhcmFtIGdyb3VwbGlzdFxuICAgICAqL1xuICAgIGFkZChncm91cGxpc3QpIHtcbiAgICAgICAgZm9yICh2YXIgYyBpbiBncm91cGxpc3QpIHtcbiAgICAgICAgICAgIGdyb3VwbGlzdFtjXS5jcmVhdGUodGhpcy5fYXNjZW5lKTtcbiAgICAgICAgICAgIHRoaXMuX2FzY2VuZS5hZGRCZWhhdmlvcihncm91cGxpc3RbY10pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25DcmVhdGUoYXNjZW5lKSB7fVxuICAgIG9uUmVuZGVyKHRpbWUpIHt9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBCYXNlR3JvdXAge1xuICAgIGNvbnN0cnVjdG9yKHBhcmFtcykge1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBwYXJlbnQgZ3JvdXAgb2YgY2hpbGQgb2JqZWN0cyB3ZSB3aWxsIGNyZWF0ZVxuICAgICAgICAgKiBAdHlwZSB7VEhSRUUuT2JqZWN0M0R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9ncm91cCA9IG5ldyBUSFJFRS5Hcm91cCgpO1xuXG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IHBhcmFtcztcbiAgICAgICAgdGhpcy5vbkluaXRpYWxpemUocGFyYW1zKTtcblxuICAgICAgICB0aGlzLmVsID0geyBpc1BsYXlpbmc6IHRydWUgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBnZXQgbmFtZSBvZiBncm91cFxuICAgICAqL1xuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIG92ZXJyaWRhYmxlIG1ldGhvZHNcbiAgICAgKiBsZWF2ZSBlbXB0eSB0byBiZSBhIHNpbXBsZSBhYnN0cmFjdGlvbiB3ZSBkb24ndCBoYXZlIHRvIGNhbGwgc3VwZXIgb25cbiAgICAgKiBAcGFyYW0gc2NlbmVcbiAgICAgKi9cbiAgICBvbkNyZWF0ZShzY2VuZSkge307XG4gICAgb25SZW5kZXIoc2NlbmUsIHRpbWUpIHt9O1xuICAgIG9uSW5pdGlhbGl6ZShwYXJhbXMpIHt9O1xuICAgIG9uQXNzZXRzTG9hZGVkKGdlb21ldHJ5LCBtYXRlcmlhbCkge307XG4gICAgb25KU09OU2NlbmVMb2FkUHJvZ3Jlc3MocHJvZ3Jlc3MpIHt9O1xuICAgIG9uSlNPTlNjZW5lTG9hZEVycm9yKGVycikge307XG4gICAgb25KU09OU2NlbmVMb2FkZWQoc2NlbmUpIHsgdGhpcy5hZGQoc2NlbmUpIH07XG5cbiAgICAvKipcbiAgICAgKiBvbiBjcmVhdGUgc2NlbmUgKG9yIGVhcmxpZXN0IHBvc3NpYmxlIG9wcG9ydHVuaXR5KVxuICAgICAqIEBwYXJhbSBzY2VuZVxuICAgICAqL1xuICAgIGNyZWF0ZShzY2VuZSkge1xuICAgICAgICB0aGlzLl9ncm91cC5uYW1lID0gdGhpcy5uYW1lO1xuICAgICAgICB0aGlzLl9zY2VuZSA9IHNjZW5lO1xuICAgICAgICBzY2VuZS5vYmplY3QzRC5hZGQodGhpcy5fZ3JvdXApO1xuXG4gICAgICAgIGlmICh0aGlzLl9jb25maWcgJiYgdGhpcy5fY29uZmlnLmFzc2V0cykge1xuICAgICAgICAgICAgLy8gdG9kbzogZGV0ZXJtaW5lIHdoZW4gdG8gdXNlIEpTT04gTG9hZGVyLCBPQkogbG9hZGVyLCBvciB3aGF0ZXZlclxuICAgICAgICAgICAgdmFyIGxvYWRlciA9IG5ldyBUSFJFRS5KU09OTG9hZGVyKCk7XG4gICAgICAgICAgICBsb2FkZXIubG9hZCh0aGlzLl9jb25maWcuYXNzZXRzLCAoZ2VvbWV0cnksIG1hdGVyaWFscykgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMub25Bc3NldHNMb2FkZWQoZ2VvbWV0cnksIG1hdGVyaWFscyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9jb25maWcgJiYgdGhpcy5fY29uZmlnLmdlb21ldHJ5KSB7XG4gICAgICAgICAgICB2YXIgbG9hZGVyID0gbmV3IFRIUkVFLkJ1ZmZlckdlb21ldHJ5TG9hZGVyKCk7XG4gICAgICAgICAgICBsb2FkZXIubG9hZCh0aGlzLl9jb25maWcuZ2VvbWV0cnksIChnZW9tZXRyeSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMub25Bc3NldHNMb2FkZWQoZ2VvbWV0cnkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fY29uZmlnICYmIHRoaXMuX2NvbmZpZy5zY2VuZSkge1xuICAgICAgICAgICAgdmFyIGxvYWRlciA9IG5ldyBUSFJFRS5PYmplY3RMb2FkZXIoKTtcbiAgICAgICAgICAgIGxvYWRlci5sb2FkKHRoaXMuX2NvbmZpZy5zY2VuZSwgKGxvYWRlZCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMub25KU09OU2NlbmVMb2FkZWQobG9hZGVkKTtcbiAgICAgICAgICAgIH0sIChwcm9ncmVzcykgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMub25KU09OU2NlbmVMb2FkUHJvZ3Jlc3MocHJvZ3Jlc3MpO1xuICAgICAgICAgICAgfSwgKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMub25KU09OU2NlbmVMb2FkRXJyb3IoZXJyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5vbkNyZWF0ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGFkZCBvYmplY3QgdG8gc2NlbmVcbiAgICAgKiBAcGFyYW0gb2JqZWN0XG4gICAgICogQHBhcmFtIG5hbWVcbiAgICAgKi9cbiAgICBhZGQob2JqZWN0LCBuYW1lKSB7XG4gICAgICAgIGlmICghbmFtZSkge1xuICAgICAgICAgICAgbmFtZSA9IHRoaXMubmFtZSArICctY2hpbGQnO1xuICAgICAgICB9XG4gICAgICAgIG9iamVjdC5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5fZ3JvdXAuYWRkKG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogZ2V0IHBhcmVudCBncm91cCBvYmplY3RcbiAgICAgKiBAcmV0dXJucyB7VEhSRUUuT2JqZWN0M0R9XG4gICAgICovXG4gICAgZ2V0IGdyb3VwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ3JvdXA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogZ2V0IHNjZW5lXG4gICAgICogQHJldHVybnMge1RIUkVFLk9iamVjdDNEfVxuICAgICAqL1xuICAgIGdldCBzY2VuZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NjZW5lO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGdldCBjaGlsZHJlbiBvZiB0aGlzIGdyb3VwXG4gICAgICogQHJldHVybnMge0FycmF5fVxuICAgICAqL1xuICAgIGdldCBjaGlsZHJlbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dyb3VwLmNoaWxkcmVuO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIG9uIHByZXJlbmRlciBzY2VuZVxuICAgICAqIEBwYXJhbSBzY2VuZVxuICAgICAqL1xuICAgIHByZVJlbmRlcigpIHt9XG5cbiAgICAvKipcbiAgICAgKiBvbiBhLWZyYW1lIGNvbXBvbmVudCB0aWNrXG4gICAgICogQHBhcmFtIHRpbWVcbiAgICAgKi9cbiAgICB0aWNrKHRpbWUpIHtcbiAgICAgICAgdGhpcy5vblJlbmRlcih0aW1lKTtcbiAgICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBCYXNlSW5wdXQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9jYWxsYmFja3MgPSBbXTtcbiAgICAgICAgdGhpcy5fcG9pbnRhYmxlcyA9IFtdO1xuICAgICAgICB0aGlzLl9sYXN0UG9pbnRpbmdBdExpc3QgPSBbXTtcbiAgICAgICAgdGhpcy5lbCA9IHsgaXNQbGF5aW5nOiB0cnVlIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogYWRkIHBvaW50YWJsZSBvYmpcbiAgICAgKiBAcGFyYW0gb2JqXG4gICAgICovXG4gICAgYWRkUG9pbnRhYmxlKG9iaikge1xuICAgICAgICB0aGlzLl9wb2ludGFibGVzLnB1c2gob2JqKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBybWVvdmUgcG9pbnRhYmxlIG9iamVjdFxuICAgICAqIEBwYXJhbSBvYmpcbiAgICAgKi9cbiAgICByZW1vdmVQb2ludGFibGUob2JqKSB7XG4gICAgICAgIGZvciAodmFyIGMgPSAwOyBjIDwgdGhpcy5fcG9pbnRhYmxlcy5sZW5ndGg7IGMrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3BvaW50YWJsZXMuaW5kZXhPZihvYmopICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3BvaW50YWJsZXMuc3BsaWNlKGMsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogY2xlYXIgYWxsIHBvaW50YWJsZXNcbiAgICAgKi9cbiAgICBjbGVhclBvaW50YWJsZXMoKSB7XG4gICAgICAgIHRoaXMuX3BvaW50YWJsZXMgPSBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBjb25uZWN0IGFuZCBzdGFydCBsaXN0ZW5pbmdcbiAgICAgKi9cbiAgICBjb25uZWN0KCkge1xuICAgICAgICB0aGlzLmNvbm5lY3RlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCgnY29ubmVjdGVkJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogZGlzY29ubmVjdFxuICAgICAqL1xuICAgIGRpc2Nvbm5lY3QoKSB7XG4gICAgICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogZ2V0IG9yaWVudGF0aW9uIG9mIGRldmljZVxuICAgICAqL1xuICAgIGdldCBvcmllbnRhdGlvbigpIHt9XG5cbiAgICAvKipcbiAgICAgKiBhZGQgbGlzdGVuZXJcbiAgICAgKiBAcGFyYW0gZXZlbnR0eXBlXG4gICAgICogQHBhcmFtIGNhbGxiYWNrXG4gICAgICovXG4gICAgYWRkTGlzdGVuZXIoZXZlbnR0eXBlLCBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9jYWxsYmFja3MucHVzaCggeyB0eXBlOiBldmVudHR5cGUsIGNhbGxiYWNrOiBjYWxsYmFjayB9ICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogZGlzcGF0Y2ggZXZlbnRcbiAgICAgKiBAcGFyYW0gdHlwZVxuICAgICAqIEBwYXJhbSBwYXJhbXNcbiAgICAgKi9cbiAgICBkaXNwYXRjaEV2ZW50KHR5cGUsIHBhcmFtcykge1xuICAgICAgICBmb3IgKHZhciBjID0gMDsgYyA8IHRoaXMuX2NhbGxiYWNrcy5sZW5ndGg7IGMrKykge1xuICAgICAgICAgICAgaWYgKHR5cGUgPT09IHRoaXMuX2NhbGxiYWNrc1tjXS50eXBlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FsbGJhY2tzW2NdLmNhbGxiYWNrLmFwcGx5KHRoaXMsIFt0eXBlLCBwYXJhbXNdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogY2xlYXIgbGlzdGVuZXJzXG4gICAgICovXG4gICAgY2xlYXJMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHRoaXMuX2NhbGxiYWNrcyA9IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGRldGVjdCBhZ2FpbnN0IHBvc3NpYmxlIG9iamVjdHNcbiAgICAgKiBAcGFyYW0gcG9zc2libGVPYmplY3RzXG4gICAgICovXG4gICAgcG9pbnRpbmdBdChwb3NzaWJsZU9iamVjdHMpIHtcbiAgICAgICAgcmV0dXJuIHsgb2JqZWN0czogW10sIGNvbGxpc2lvbnM6IFtdfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBjaGVjayBpZiBwb2ludGluZyBhdCBhIHNwZWNpZmljIG1lc2hcbiAgICAgKiBAcGFyYW0gbWVzaFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGlzUG9pbnRpbmdBdChtZXNoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBvaW50aW5nQXQoW21lc2hdKS5vYmplY3RzLmluZGV4T2YobWVzaCkgIT09IC0xO1xuICAgIH1cbn1cbiIsImltcG9ydCBCYXNlSW5wdXQgZnJvbSAnLi9iYXNlaW5wdXQuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEYXlkcmVhbSBleHRlbmRzIEJhc2VJbnB1dCB7XG4gICAgY29uc3RydWN0b3IoY2FtZXJhKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX2NhbWVyYSA9IGNhbWVyYTtcbiAgICAgICAgdGhpcy5fY29udHJvbGxlciA9IG5ldyBEYXlkcmVhbUNvbnRyb2xsZXIoKTtcbiAgICAgICAgdGhpcy5fY29udHJvbGxlci5vblN0YXRlQ2hhbmdlKChzdGF0ZSkgPT4gdGhpcy5vbkNvbnRyb2xsZXJVcGRhdGUoc3RhdGUpKTtcbiAgICAgICAgdGhpcy5fc2Vuc29yZnVzaW9uID0gbmV3IE1hZGd3aWNrQUhSUygpO1xuICAgICAgICB0aGlzLl9zZW5zb3JmdXNpb24uc2V0UXVhdGVybmlvbiggWyAwLjcwNzEwNjc4MTE4NjU0NzUsIDAsIDAsIDAuNzA3MTA2NzgxMTg2NTQ3NSBdICk7IC8vIEhhY2staXNoOiBSb3RhdGUgaW50ZXJuYWwgcXVhdGVybmlvblxuICAgICAgICB0aGlzLl9idXR0b25zID0ge1xuICAgICAgICAgICAgYXBwOiBmYWxzZSxcbiAgICAgICAgICAgIGhvbWU6IGZhbHNlLFxuICAgICAgICAgICAgY2xpY2s6IGZhbHNlLFxuICAgICAgICAgICAgdm9sdW1lUGx1czogZmFsc2UsXG4gICAgICAgICAgICB2b2x1bWVNaW51czogZmFsc2UsXG4gICAgICAgICAgICB4VG91Y2g6IDAsXG4gICAgICAgICAgICB5VG91Y2g6IDBcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBjb25uZWN0IGFuZCBzdGFydCBsaXN0ZW5pbmdcbiAgICAgKi9cbiAgICBjb25uZWN0KCkge1xuICAgICAgICB0aGlzLmNyZWF0ZUJ1dHRvbigpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIG9uIGNvbnRyb2xsZXIgdXBkYXRlXG4gICAgICogQHBhcmFtIHN0YXRlXG4gICAgICovXG4gICAgb25Db250cm9sbGVyVXBkYXRlKHN0YXRlKSB7XG4gICAgICAgIHRoaXMuX3NlbnNvcmZ1c2lvbi51cGRhdGUoXG4gICAgICAgICAgICBzdGF0ZS54R3lybywgc3RhdGUueUd5cm8sIHN0YXRlLnpHeXJvLFxuICAgICAgICAgICAgc3RhdGUueEFjYywgc3RhdGUueUFjYywgc3RhdGUuekFjYyxcbiAgICAgICAgICAgIHN0YXRlLnhPcmksIHN0YXRlLnlPcmksIHN0YXRlLnpPcmlcbiAgICAgICAgKTtcblxuICAgICAgICB2YXIgY2hhbmdlZCA9IFtdO1xuICAgICAgICBpZiAoc3RhdGUuaXNDbGlja0Rvd24gIT09IHRoaXMuX2J1dHRvbnMuY2xpY2spIHtcbiAgICAgICAgICAgIHRoaXMuX2J1dHRvbnMuY2xpY2sgPSBzdGF0ZS5pc0NsaWNrRG93bjtcbiAgICAgICAgICAgIGNoYW5nZWQucHVzaCggeyAnY2xpY2snOiBzdGF0ZS5pc0NsaWNrRG93biB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdGF0ZS5pc0FwcERvd24gIT09IHRoaXMuX2J1dHRvbnMuYXBwKSB7XG4gICAgICAgICAgICB0aGlzLl9idXR0b25zLmFwcCA9IHN0YXRlLmlzQXBwRG93bjtcbiAgICAgICAgICAgIGNoYW5nZWQucHVzaCggeyAnYXBwJzogc3RhdGUuaXNBcHBEb3duIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0YXRlLmlzSG9tZURvd24gIT09IHRoaXMuX2J1dHRvbnMuaG9tZSkge1xuICAgICAgICAgICAgdGhpcy5fYnV0dG9ucy5ob21lID0gc3RhdGUuaXNIb21lRG93bjtcbiAgICAgICAgICAgIGNoYW5nZWQucHVzaCggeyAnaG9tZSc6IHN0YXRlLmlzSG9tZURvd24gfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3RhdGUuaXNWb2xNaW51c0Rvd24gIT09IHRoaXMuX2J1dHRvbnMudm9sdW1lTWludXMpIHtcbiAgICAgICAgICAgIHRoaXMuX2J1dHRvbnMudm9sdW1lTWludXMgPSBzdGF0ZS5pc1ZvbE1pbnVzRG93bjtcbiAgICAgICAgICAgIGNoYW5nZWQucHVzaCggeyAndm9sdW1lTWludXMnOiBzdGF0ZS5pc1ZvbE1pbnVzRG93biB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdGF0ZS5pc1ZvbFBsdXNEb3duICE9PSB0aGlzLl9idXR0b25zLnZvbHVtZVBsdXMpIHtcbiAgICAgICAgICAgIHRoaXMuX2J1dHRvbnMudm9sdW1lUGx1cyA9IHN0YXRlLmlzVm9sUGx1c0Rvd247XG4gICAgICAgICAgICBjaGFuZ2VkLnB1c2goIHsgJ3ZvbHVtZVBsdXMnOiBzdGF0ZS5pc1ZvbFBsdXNEb3duIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0YXRlLnhUb3VjaCAhPT0gdGhpcy5fYnV0dG9ucy54VG91Y2ggJiYgc3RhdGUueVRvdWNoICE9PSB0aGlzLl9idXR0b25zLnlUb3VjaCkge1xuICAgICAgICAgICAgY2hhbmdlZC5wdXNoKCB7ICd0b3VjaCc6IHsgeDogc3RhdGUueFRvdWNoLCB5OiBzdGF0ZS55VG91Y2ggfSB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjaGFuZ2VkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZhciBldmVudCA9IHsgY2hhbmdlZDogY2hhbmdlZCwgY29udHJvbGxlcnN0YXRlOiBzdGF0ZSB9O1xuICAgICAgICAgICAgaWYgKHRoaXMuX3BvaW50YWJsZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGV2ZW50LnBvaW50aW5nYXQgPSB0aGlzLnBvaW50aW5nQXQodGhpcy5fcG9pbnRhYmxlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoJ2J1dHRvbicsIHsgY2hhbmdlZDogY2hhbmdlZCwgY29udHJvbGxlcnN0YXRlOiBzdGF0ZSB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIG9uIGNsaWNrIHRvIGNvbm5lY3QgY29udHJvbGxlclxuICAgICAqL1xuICAgIG9uQ29ubmVjdENvbnRyb2xsZXIoKSB7XG4gICAgICAgIHN1cGVyLmNvbm5lY3QoKTtcbiAgICAgICAgdGhpcy5fY29udHJvbGxlci5jb25uZWN0KCk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCgnY29ubmVjdGVkJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogZ2V0IG9yaWVudGF0aW9uIG9mIGRldmljZVxuICAgICAqL1xuICAgIGdldCBvcmllbnRhdGlvbigpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNvbm5lY3RlZCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBUSFJFRS5RdWF0ZXJuaW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHExID0gbmV3IFRIUkVFLlF1YXRlcm5pb24oKS5mcm9tQXJyYXkodGhpcy5fc2Vuc29yZnVzaW9uLmdldFF1YXRlcm5pb24oKSk7XG4gICAgICAgIHZhciBxMiA9IG5ldyBUSFJFRS5RdWF0ZXJuaW9uKCkuc2V0RnJvbUV1bGVyKG5ldyBUSFJFRS5FdWxlcigtTWF0aC5QSS8yLCAwLCAwKSk7XG4gICAgICAgIHJldHVybiBxMi5tdWx0aXBseShxMSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogZGV0ZWN0IGFnYWluc3QgcG9zc2libGUgb2JqZWN0c1xuICAgICAqIEBwYXJhbSBwb3NzaWJsZU9iamVjdHNcbiAgICAgKi9cbiAgICBwb2ludGluZ0F0KHBvc3NpYmxlT2JqZWN0cykge1xuICAgICAgICBpZiAoIXBvc3NpYmxlT2JqZWN0cykge1xuICAgICAgICAgICAgcG9zc2libGVPYmplY3RzID0gdGhpcy5fcG9pbnRhYmxlcztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBtID0gbmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlUm90YXRpb25Gcm9tUXVhdGVybmlvbih0aGlzLm9yaWVudGF0aW9uKTtcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IG5ldyBUSFJFRS5WZWN0b3IzKDAsIDAsIC0xKTtcbiAgICAgICAgZGlyZWN0aW9uID0gZGlyZWN0aW9uLmFwcGx5TWF0cml4NChtKTtcblxuICAgICAgICB2YXIgcmF5Y2FzdGVyID0gbmV3IFRIUkVFLlJheWNhc3RlcigpO1xuICAgICAgICByYXljYXN0ZXIuc2V0KCB0aGlzLl9jYW1lcmEucG9zaXRpb24sIGRpcmVjdGlvbiApO1xuICAgICAgICB2YXIgY29sbGlzaW9ucyA9IHJheWNhc3Rlci5pbnRlcnNlY3RPYmplY3RzKCBwb3NzaWJsZU9iamVjdHMgKTtcbiAgICAgICAgdmFyIG9iamVjdHMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgYyA9IDA7IGMgPCBjb2xsaXNpb25zLmxlbmd0aDsgYysrKSB7XG4gICAgICAgICAgICBpZiAob2JqZWN0cy5pbmRleE9mKGNvbGxpc2lvbnNbY10ub2JqZWN0KSA9PSAtMSkge1xuICAgICAgICAgICAgICAgIG9iamVjdHMucHVzaChjb2xsaXNpb25zW2NdLm9iamVjdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgb2JqZWN0czogb2JqZWN0cywgY29sbGlzaW9uczogY29sbGlzaW9ucyB9O1xuICAgIH1cblxuICAgIGNyZWF0ZUJ1dHRvbigpIHtcbiAgICAgICAgdmFyIGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICBidXR0b24uY2xhc3NOYW1lID0gJ2EtZW50ZXItdnItYnV0dG9uJztcbiAgICAgICAgYnV0dG9uLnRpdGxlID0gJ0Nvbm5lY3QgdG8gRGF5ZHJlYW0gQ29udHJvbGxlcic7XG4gICAgICAgIHZhciBzID0gYnV0dG9uLnN0eWxlO1xuICAgICAgICBzLmxlZnQgPSAnMzBweCc7XG4gICAgICAgIHMuYmFja2dyb3VuZCA9ICd1cmwoXCJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBEOTRiV3dnZG1WeWMybHZiajBpTVM0d0lpQmxibU52WkdsdVp6MGlkWFJtTFRnaVB6NEtQQ0V0TFNCSFpXNWxjbUYwYjNJNklFRmtiMkpsSUVsc2JIVnpkSEpoZEc5eUlESXhMakF1TWl3Z1UxWkhJRVY0Y0c5eWRDQlFiSFZuTFVsdUlDNGdVMVpISUZabGNuTnBiMjQ2SURZdU1EQWdRblZwYkdRZ01Da2dJQzB0UGdvOGMzWm5JSFpsY25OcGIyNDlJakV1TVNJZ2FXUTlJa3hoZVdWeVh6SWlJSGh0Ykc1elBTSm9kSFJ3T2k4dmQzZDNMbmN6TG05eVp5OHlNREF3TDNOMlp5SWdlRzFzYm5NNmVHeHBibXM5SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpFNU9Ua3ZlR3hwYm1zaUlIZzlJakJ3ZUNJZ2VUMGlNSEI0SWdvSklIWnBaWGRDYjNnOUlqQWdNQ0ExTUNBek1DSWdjM1I1YkdVOUltVnVZV0pzWlMxaVlXTnJaM0p2ZFc1a09tNWxkeUF3SURBZ05UQWdNekE3SWlCNGJXdzZjM0JoWTJVOUluQnlaWE5sY25abElqNEtQSE4wZVd4bElIUjVjR1U5SW5SbGVIUXZZM056SWo0S0NTNXpkREI3Wm1sc2JEcHViMjVsTzNOMGNtOXJaVG9qUmtaR1JrWkdPM04wY205clpTMTNhV1IwYURveU8zTjBjbTlyWlMxdGFYUmxjbXhwYldsME9qRXdPMzBLQ1M1emRERjdabWxzYkRvalJrWkdSa1pHTzMwS1BDOXpkSGxzWlQ0S1BIQmhkR2dnWTJ4aGMzTTlJbk4wTUNJZ1pEMGlUVE00TGpNc09DNDBZek11TlN3d0xEWXVOU3d6TERZdU5TdzJMalZ6TFRNc05pNDNMVFl1Tnl3MkxqZHNMVEkzTGpZc01HTXRNeTQzTERBdE5pNDNMVE10Tmk0M0xUWXVOMk13TFRNdU55d3pMakl0Tmk0MUxEWXVPUzAyTGpWTU16Z3VNeXc0TGpSNklnb0pMejRLUEdOcGNtTnNaU0JqYkdGemN6MGljM1F4SWlCamVEMGlNamd1TVNJZ1kzazlJakUwTGpraUlISTlJakl1TnlJdlBnbzhZMmx5WTJ4bElHTnNZWE56UFNKemRERWlJR040UFNJeU1TNDNJaUJqZVQwaU1UUXVPU0lnY2owaU1pNDNJaTgrQ2p4amFYSmpiR1VnWTJ4aGMzTTlJbk4wTVNJZ1kzZzlJak00TGpNaUlHTjVQU0l4TkM0NUlpQnlQU0kyTGpVaUx6NEtQQzl6ZG1jK0NnPT1cIikgNTAlIDUwJS83MCUgNzAlIG5vLXJlcGVhdCByZ2JhKDAsMCwwLC4zNSknO1xuXG4gICAgICAgIC8vIFByZXZlbnQgYnV0dG9uIGZyb20gYmVpbmcgc2VsZWN0ZWQgYW5kIGRyYWdnZWQuXG4gICAgICAgIGJ1dHRvbi5kcmFnZ2FibGUgPSBmYWxzZTtcbiAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gU3R5bGUgaXQgb24gaG92ZXIuXG4gICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgcy5maWx0ZXIgPSBzLndlYmtpdEZpbHRlciA9ICdkcm9wLXNoYWRvdygwIDAgNXB4IHJnYmEoMjU1LDI1NSwyNTUsMSkpJztcbiAgICAgICAgfSk7XG4gICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgcy5maWx0ZXIgPSBzLndlYmtpdEZpbHRlciA9ICcnO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBhc3NpZ24gY2xpY2sgZXZlbnRcbiAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB0aGlzLm9uQ29ubmVjdENvbnRyb2xsZXIoZSkpO1xuXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hLWVudGVyLXZyJykuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcbiAgICB9O1xufVxuIiwiaW1wb3J0IEJhc2VJbnB1dCBmcm9tICcuL2Jhc2VpbnB1dC5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhemVJbnB1dCBleHRlbmRzIEJhc2VJbnB1dCB7XG4gICAgY29uc3RydWN0b3IoY2FtZXJhKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX2NhbWVyYSA9IGNhbWVyYTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBjb25uZWN0IGFuZCBzdGFydCBsaXN0ZW5pbmdcbiAgICAgKi9cbiAgICBjb25uZWN0KCkge1xuICAgICAgICBzdXBlci5jb25uZWN0KCk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGUpID0+IHRoaXMub25DbGljayhlKSApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGRpc2Nvbm5lY3RcbiAgICAgKi9cbiAgICBkaXNjb25uZWN0KCkge1xuICAgICAgICBzdXBlci5kaXNjb25uZWN0KCk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGUpID0+IHRoaXMub25DbGljayhlKSApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIG9uIGJvZHkgY2xpY2tcbiAgICAgKi9cbiAgICBvbkNsaWNrKGV2ZW50KSB7XG4gICAgICAgIHZhciBlID0ge307XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCgnYnV0dG9uJywgZSApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGdldCBvcmllbnRhdGlvbiBvZiBkZXZpY2VcbiAgICAgKi9cbiAgICBnZXQgb3JpZW50YXRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYW1lcmEucXVhdGVybmlvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBkZXRlY3QgYWdhaW5zdCBwb3NzaWJsZSBvYmplY3RzXG4gICAgICogQHBhcmFtIHBvc3NpYmxlT2JqZWN0c1xuICAgICAqL1xuICAgIHBvaW50aW5nQXQocG9zc2libGVPYmplY3RzKSB7XG4gICAgICAgIGlmICghcG9zc2libGVPYmplY3RzKSB7XG4gICAgICAgICAgICBwb3NzaWJsZU9iamVjdHMgPSB0aGlzLl9wb2ludGFibGVzO1xuICAgICAgICB9XG4gICAgICAgIHZhciByYXljYXN0ZXIgPSBuZXcgVEhSRUUuUmF5Y2FzdGVyKCk7XG4gICAgICAgIHJheWNhc3Rlci5zZXRGcm9tQ2FtZXJhKCBuZXcgVEhSRUUuVmVjdG9yMigwLCAwKSwgdGhpcy5fY2FtZXJhICk7XG4gICAgICAgIHZhciBjb2xsaXNpb25zID0gcmF5Y2FzdGVyLmludGVyc2VjdE9iamVjdHMoIHBvc3NpYmxlT2JqZWN0cyApO1xuICAgICAgICB2YXIgb2JqZWN0cyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBjID0gMDsgYyA8IGNvbGxpc2lvbnMubGVuZ3RoOyBjKyspIHtcbiAgICAgICAgICAgIGlmIChvYmplY3RzLmluZGV4T2YoY29sbGlzaW9uc1tjXS5vYmplY3QpID09IC0xKSB7XG4gICAgICAgICAgICAgICAgb2JqZWN0cy5wdXNoKGNvbGxpc2lvbnNbY10ub2JqZWN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBvYmplY3RzOiBvYmplY3RzLCBjb2xsaXNpb25zOiBjb2xsaXNpb25zIH07XG4gICAgfVxufVxuIiwiaW1wb3J0IEJhc2VJbnB1dCBmcm9tICcuL2Jhc2VpbnB1dC5qcyc7XG5pbXBvcnQgR2F6ZUlucHV0IGZyb20gJy4vZ2F6ZS5qcyc7XG5pbXBvcnQgRGF5ZHJlYW1JbnB1dCBmcm9tICcuL2RheWRyZWFtLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVzcG9uc2l2ZUlucHV0IGV4dGVuZHMgQmFzZUlucHV0IHtcbiAgICBjb25zdHJ1Y3RvcihjYW1lcmEpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5jb25uZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fZ2F6ZSA9IG5ldyBHYXplSW5wdXQoY2FtZXJhKTtcbiAgICAgICAgdGhpcy5fZGF5ZHJlYW0gPSBuZXcgRGF5ZHJlYW1JbnB1dChjYW1lcmEpO1xuICAgICAgICB0aGlzLl9hY3RpdmVJbnB1dCA9IHRoaXMuX2dhemU7XG5cbiAgICAgICAgdGhpcy5fZ2F6ZS5hZGRMaXN0ZW5lcignYnV0dG9uJywgKGV2ZW50dHlwZSwgZXZlbnQpID0+IHRoaXMub25HYXplSW5wdXRDbGljayhldmVudHR5cGUsIGV2ZW50KSk7XG4gICAgICAgIHRoaXMuX2dhemUuYWRkTGlzdGVuZXIoJ3BvaW50aW5nYXQnLCAoZXZlbnR0eXBlLCBldmVudCkgPT4gdGhpcy5vblBvaW50aW5nQXQoZXZlbnR0eXBlLCBldmVudCkpO1xuICAgICAgICB0aGlzLl9nYXplLmNvbm5lY3QoKTtcblxuICAgICAgICAvLyBjb25uZWN0aW5nIHRvIGRheWRyZWFtIGp1c3QgcHV0cyBhIGJ1dHRvbiBpbiB0aGUgc2NlbmUgYmVjYXVzZSBCbHVldG9vdGggbXVzdCBiZSBpbml0aWF0ZWQgYnkgYSB1c2VyXG4gICAgICAgIHRoaXMuX2RheWRyZWFtLmNvbm5lY3QoKTtcbiAgICAgICAgdGhpcy5fZGF5ZHJlYW0uYWRkTGlzdGVuZXIoJ2Nvbm5lY3RlZCcsICgpID0+IHRoaXMub25EYXlEcmVhbUNvbm5lY3RlZCgpKTtcbiAgICAgICAgdGhpcy5fZGF5ZHJlYW0uYWRkTGlzdGVuZXIoJ2J1dHRvbicsICgpID0+IHRoaXMub25EYXlEcmVhbUJ1dHRvbkNsaWNrKCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIG9uIHJlbmRlclxuICAgICAqL1xuICAgIG9uUmVuZGVyKCkge1xuICAgICAgICB0aGlzLl9hY3RpdmVJbnB1dC5vblJlbmRlcigpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGFkZCBwb2ludGFibGUgb2JqXG4gICAgICogQHBhcmFtIG9ialxuICAgICAqL1xuICAgIGFkZFBvaW50YWJsZShvYmopIHtcbiAgICAgICAgdGhpcy5fZ2F6ZS5hZGRQb2ludGFibGUob2JqKTtcbiAgICAgICAgdGhpcy5fZGF5ZHJlYW0uYWRkUG9pbnRhYmxlKG9iaik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcm1lb3ZlIHBvaW50YWJsZSBvYmplY3RcbiAgICAgKiBAcGFyYW0gb2JqXG4gICAgICovXG4gICAgcmVtb3ZlUG9pbnRhYmxlKG9iaikge1xuICAgICAgICB0aGlzLl9nYXplLnJlbW92ZVBvaW50YWJsZShvYmopO1xuICAgICAgICB0aGlzLl9kYXlkcmVhbS5yZW1vdmVQb2ludGFibGUob2JqKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBjbGVhciBhbGwgcG9pbnRhYmxlc1xuICAgICAqL1xuICAgIGNsZWFyUG9pbnRhYmxlcygpIHtcbiAgICAgICAgdGhpcy5fZ2F6ZS5jbGVhclBvaW50YWJsZXMoKTtcbiAgICAgICAgdGhpcy5fZGF5ZHJlYW0uY2xlYXJQb2ludGFibGVzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogY29ubmVjdCBhbmQgc3RhcnQgbGlzdGVuaW5nXG4gICAgICovXG4gICAgY29ubmVjdCgpIHtcbiAgICAgICAgdGhpcy5jb25uZWN0ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoJ2Nvbm5lY3RlZCcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIG9uIGdhemUgaW5wdXQgY2xpY2tcbiAgICAgKi9cbiAgICBvbkdhemVJbnB1dENsaWNrKGV2ZW50dHlwZSwgZXZlbnQpIHtcbiAgICAgICAgZXZlbnQuY2hhbmdlZCA9IFt7IGdhemVjbGljazogJ2NsaWNrJ31dO1xuICAgICAgICBldmVudC5zdGF0ZSA9IHsgb3JpZW50YXRpb246IHRoaXMuX2dhemUub3JpZW50YXRpb24gfTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KCdidXR0b24nLCBldmVudCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogb24gZGF5ZHJlYW0gYmx1ZXRvb3RoIGNvbm5lY3RlZFxuICAgICAqL1xuICAgIG9uRGF5RHJlYW1Db25uZWN0ZWQoKSB7XG4gICAgICAgIHRoaXMuX2FjdGl2ZUlucHV0ID0gdGhpcy5fZGF5ZHJlYW07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogb24gZGF5ZHJlYW0gYnV0dG9uIGNsaWNrXG4gICAgICovXG4gICAgb25EYXlEcmVhbUJ1dHRvbkNsaWNrKCkge1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoJ2J1dHRvbicsIGV2ZW50KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBnZXQgb3JpZW50YXRpb24gb2YgZGV2aWNlXG4gICAgICovXG4gICAgZ2V0IG9yaWVudGF0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWN0aXZlSW5wdXQub3JpZW50YXRpb247XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogYWRkIGxpc3RlbmVyXG4gICAgICogQHBhcmFtIGV2ZW50dHlwZVxuICAgICAqIEBwYXJhbSBjYWxsYmFja1xuICAgICAqL1xuICAgIGFkZExpc3RlbmVyKGV2ZW50dHlwZSwgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fY2FsbGJhY2tzLnB1c2goIHsgdHlwZTogZXZlbnR0eXBlLCBjYWxsYmFjazogY2FsbGJhY2sgfSApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGRldGVjdCBhZ2FpbnN0IHBvc3NpYmxlIG9iamVjdHNcbiAgICAgKiBAcGFyYW0gcG9zc2libGVPYmplY3RzXG4gICAgICovXG4gICAgcG9pbnRpbmdBdChwb3NzaWJsZU9iamVjdHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FjdGl2ZUlucHV0LnBvaW50aW5nQXQocG9zc2libGVPYmplY3RzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBjaGVjayBpZiBwb2ludGluZyBhdCBhIHNwZWNpZmljIG1lc2hcbiAgICAgKiBAcGFyYW0gbWVzaFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGlzUG9pbnRpbmdBdChtZXNoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hY3RpdmVJbnB1dC5pc1BvaW50aW5nQXQobWVzaCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IENvbG9yIGZyb20gJy4uL3V0aWxzL2NvbG9yLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVHdlZW4ge1xuICAgIGNvbnN0cnVjdG9yKGdyb3VwKSB7fVxuXG4gICAgLyoqXG4gICAgICogYW5pbWF0ZSBUSFJFRS5qcyBtZXNoIHBvc2l0aW9uIHByb3BlcnR5XG4gICAgICogQHBhcmFtIHtpbnR9IGZyb21cbiAgICAgKiBAcGFyYW0ge2ludH0gdG9cbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqL1xuICAgIGFuaW1hdGVDb2xvcihmcm9tLCB0bywgb3B0aW9ucykge1xuICAgICAgICBpZiAodHlwZW9mIGZyb20gIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGZyb20gIT09ICdudW1iZXInICYmIGZyb20uY2hhckF0KDApID09PSAnIycpIHtcbiAgICAgICAgICAgICAgICBmcm9tID0gTnVtYmVyKCcweCcgKyBmcm9tLnN1YnN0cigxLCBmcm9tLmxlbmd0aCkpO1xuICAgICAgICAgICAgICAgIGZyb20gPSBDb2xvci5kZWNUb1JHQihmcm9tKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZnJvbSA9IENvbG9yLmRlY1RvUkdCKGZyb20pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiB0byAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdG8gIT09ICdudW1iZXInICYmIHRvLmNoYXJBdCgwKSA9PT0gJyMnKSB7XG4gICAgICAgICAgICAgICAgdG8gPSBOdW1iZXIoJzB4JyArIHRvLnN1YnN0cigxLCB0by5sZW5ndGgpKTtcbiAgICAgICAgICAgICAgICB0byA9IENvbG9yLmRlY1RvUkdCKHRvKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdG8gPSBDb2xvci5kZWNUb1JHQih0byk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmcm9tID0gdGhpcy5wb3B1bGF0ZVN0YXJ0QW5pbWF0aW9uT2JqZWN0KGZyb20sIG9wdGlvbnMpO1xuICAgICAgICBmcm9tLmFuaW1hdGlvbi5zdGVwLnB1c2goIChzdGVwKSA9PiB0aGlzLmFuaW1hdGVDb2xvclN0ZXAoc3RlcCkpO1xuXG4gICAgICAgIHZhciBhbmltID0gdGhpcy5jcmVhdGVUd2Vlbih0bywgZnJvbSwgb3B0aW9ucyk7XG4gICAgICAgIGFuaW0uc3RhcnQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBhbmltYXRlIFRIUkVFLmpzIG1lc2ggcG9zaXRpb24gcHJvcGVydHlcbiAgICAgKiBAcGFyYW0ge1RocmVlLmpzIFZlY3RvcjN9IGZyb21cbiAgICAgKiBAcGFyYW0ge1RocmVlLmpzIFZlY3RvcjN9IHRvXG4gICAgICogQHBhcmFtIG9wdGlvbnNcbiAgICAgKi9cbiAgICBhbmltYXRlUG9zaXRpb24oZnJvbSwgdG8sIG9wdGlvbnMpIHtcbiAgICAgICAgZnJvbSA9IHsgeDogZnJvbS54LCB5OiBmcm9tLnksIHo6IGZyb20ueiB9O1xuICAgICAgICB0byA9IHsgeDogdG8ueCwgeTogdG8ueSwgejogdG8ueiB9O1xuICAgICAgICBmcm9tID0gdGhpcy5wb3B1bGF0ZVN0YXJ0QW5pbWF0aW9uT2JqZWN0KGZyb20sIG9wdGlvbnMpO1xuICAgICAgICBmcm9tLmFuaW1hdGlvbi5zdGVwLnB1c2goIChzdGVwKSA9PiB0aGlzLmFuaW1hdGVQb3NpdGlvblN0ZXAoc3RlcCkpO1xuICAgICAgICB2YXIgYW5pbSA9IHRoaXMuY3JlYXRlVHdlZW4odG8sIGZyb20sIG9wdGlvbnMpO1xuICAgICAgICBhbmltLnN0YXJ0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogY3JlYXRlIGFuZCBzdGFydCBhbmltYXRpb25cbiAgICAgKiBAcGFyYW0gZnJvbVxuICAgICAqIEBwYXJhbSB0b1xuICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICovXG4gICAgYW5pbWF0ZShmcm9tLCB0bywgb3B0aW9ucykge1xuICAgICAgICBpZiAoIW9wdGlvbnMuc3RlcCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQbGVhc2UgZGVmaW5lIGEgXCJzdGVwXCIgcHJvcGVydHkgb24gb3B0aW9ucyB0byBzcGVjaWZ5IGEgY2FsbGJhY2sgZm9yIGVhY2ggYW5pbWF0aW9uIHVwZGF0ZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnJvbSA9IHRoaXMucG9wdWxhdGVTdGFydEFuaW1hdGlvbk9iamVjdChmcm9tLCB0byk7XG4gICAgICAgIHZhciBhbmltID0gdGhpcy5jcmVhdGVUd2Vlbih0bywgZnJvbSwgb3B0aW9ucyk7XG4gICAgICAgIGFuaW0uc3RhcnQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBwb3B1bGF0ZSBhbmltYXRpb24gc3RhcnQgb2JqZWN0XG4gICAgICogQHBhcmFtIGZyb21cbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqIEByZXR1cm5zIHsqfVxuICAgICAqL1xuICAgIHBvcHVsYXRlU3RhcnRBbmltYXRpb25PYmplY3QoZnJvbSwgb3B0aW9ucykge1xuICAgICAgICBmcm9tLmFuaW1hdGlvbiA9IHt9O1xuICAgICAgICBmcm9tLmFuaW1hdGlvbi5hbmltYXRpbmcgPSB0cnVlO1xuICAgICAgICBmcm9tLmFuaW1hdGlvbi5zdGVwID0gW107XG4gICAgICAgIGlmIChvcHRpb25zLnN0ZXApIHtcbiAgICAgICAgICAgIGZyb20uYW5pbWF0aW9uLnN0ZXAucHVzaChvcHRpb25zLnN0ZXApO1xuICAgICAgICB9XG4gICAgICAgIGZyb20uYW5pbWF0aW9uLnRhcmdldCA9IG9wdGlvbnMudGFyZ2V0O1xuICAgICAgICBmcm9tLmFuaW1hdGlvbi5sb29wID0gb3B0aW9ucy5sb29wO1xuICAgICAgICBmcm9tLmFuaW1hdGlvbi5jb21wbGV0ZSA9IG9wdGlvbnMuY29tcGxldGU7XG4gICAgICAgIHJldHVybiBmcm9tO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGNyZWF0ZSB0d2VlblxuICAgICAqIEBwYXJhbSB0b1xuICAgICAqIEBwYXJhbSBmcm9tXG4gICAgICogQHBhcmFtIG9wdGlvbnNcbiAgICAgKiBAcmV0dXJucyB7VHdlZW59XG4gICAgICovXG4gICAgY3JlYXRlVHdlZW4odG8sIGZyb20sIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUV0VFTi5Ud2Vlbihmcm9tLCBvcHRpb25zKVxuICAgICAgICAgICAgLnRvKHRvLCBvcHRpb25zLmR1cmF0aW9uKVxuICAgICAgICAgICAgLm9uVXBkYXRlKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGQgPSAwOyBkIDwgdGhpcy5hbmltYXRpb24uc3RlcC5sZW5ndGg7IGQrKykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvbi5zdGVwW2RdLmFwcGx5KHRoaXMsIFt0aGlzXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5vbkNvbXBsZXRlKCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2xvb3ApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb24uYW5pbWF0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvbi5jb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvbi5jb21wbGV0ZS5hcHBseSh0aGlzLCBbdGhpc10pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGFuaW1hdGUgc3RlcCBmb3IgVGhyZWUuSlMgcG9zaXRpb25cbiAgICAgKiBAcGFyYW0gc3RlcFxuICAgICAqL1xuICAgIGFuaW1hdGVQb3NpdGlvblN0ZXAoc3RlcCkge1xuICAgICAgICBzdGVwLmFuaW1hdGlvbi50YXJnZXQucG9zaXRpb24uc2V0KHN0ZXAueCwgc3RlcC55LCBzdGVwLnopO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGFuaW1hdGUgc3RlcCBmb3IgVGhyZWUuSlMgbWF0ZXJpYWwgY29sb3JcbiAgICAgKiBAcGFyYW0gc3RlcFxuICAgICAqL1xuICAgIGFuaW1hdGVDb2xvclN0ZXAoc3RlcCkge1xuICAgICAgICBzdGVwLmFuaW1hdGlvbi50YXJnZXQubWF0ZXJpYWwuY29sb3Iuc2V0UkdCKHN0ZXAuci8yNTUsIHN0ZXAuZy8yNTUsIHN0ZXAuYi8yNTUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGFuaW1hdGUgcmVuZGVyIGhvb2tcbiAgICAgKiBAcGFyYW0gdGltZVxuICAgICAqL1xuICAgIC8qb25SZW5kZXIodGltZSkge1xuICAgICAgICB2YXIgcnVubmluZyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBjID0gMDsgYyA8IHRoaXMuYW5pbWF0aW9ucy5sZW5ndGg7IGMrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uc1tjXS5hbmltYXRpb24uYW5pbWF0aW5nKSB7XG4gICAgICAgICAgICAgICAgcnVubmluZy5wdXNoKHRoaXMuYW5pbWF0aW9uc1tjXSk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5hbmltYXRpb25zW2NdKVxuICAgICAgICAgICAgICAgIGZvciAodmFyIGQgPSAwOyBkIDwgdGhpcy5hbmltYXRpb25zW2NdLmFuaW1hdGlvbi5zdGVwLmxlbmd0aDsgZCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uc1tjXS51cGRhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgLy90aGlzLmFuaW1hdGlvbnNbY10uYW5pbWF0aW9uLnN0ZXBbZF0uYXBwbHkodGhpcywgW3RoaXMuYW5pbWF0aW9uc1tjXV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFuaW1hdGlvbnMgPSBydW5uaW5nO1xuICAgIH0qL1xufVxuIiwiZXhwb3J0IGRlZmF1bHQge1xuICAgIC8qKlxuICAgICAqIHR1cm4gZGVjaW1hbCBjb2xvciB0byBSR0JcbiAgICAgKiBAcGFyYW0gZGVjXG4gICAgICogQHJldHVybnMge3tyOiBudW1iZXIsIGc6IG51bWJlciwgYjogbnVtYmVyfX1cbiAgICAgKi9cbiAgICBkZWNUb1JHQihkZWMpIHtcbiAgICAgICAgdmFyIHIgPSAoZGVjID4+IDE2KSAmIDB4ZmY7XG4gICAgICAgIHZhciBnID0gKGRlYyA+PiA4KSAgJiAweGZmO1xuICAgICAgICB2YXIgYiA9IGRlYyAmIDB4ZmY7XG4gICAgICAgIHJldHVybiB7IHI6IHIsIGc6IGcsIGI6IGIgfTtcbiAgICB9LFxuXG4gICAgUkdCVG9EZWMocmdiKSB7XG4gICAgICAgIHJldHVybiByZ2IuciA8PCAxNiArIHJnYi5nIDw8IDE2ICsgcmdiLmI7XG4gICAgfVxufVxuIl19"}